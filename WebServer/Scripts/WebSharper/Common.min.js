(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;a=window;b=a.Rop=a.Rop||{};c=b.Option=b.Option||{};d=b.ExceptionThrown=b.ExceptionThrown||{};e=b.ErrOptionIsNone=b.ErrOptionIsNone||{};f=b.Result=b.Result||{};g=f.ropBuilder=f.ropBuilder||{};h=b.Wrap=b.Wrap||{};i=h.Builder=h.Builder||{};j=a.StartupCode$Common$Result=a.StartupCode$Common$Result||{};k=a.IntelliFactory;l=k&&k.Runtime;m=a.WebSharper;n=m&&m.PrintfHelpers;o=m&&m.Operators;p=m&&m.List;q=m&&m.Strings;r=m&&m.Seq;s=m&&m.MatchFailureException;t=m&&m.Concurrency;c.modify=function(u){var v,w,x;v=function(y){return y==null?null:{$:1,$0:u(y.$0)};};w=(x=a.id,function(y){return c.defaultValue(x,y);});return function(y){return w(v(y));};};c.apply=function(u,v){var w;return((u!=null?u.$==1:false)?(v!=null?v.$==1:false)?(w=[v.$0,u.$0],true):false:false)?{$:1,$0:w[0](w[1])}:null;};c.iterFO=function(u,v){if(u!=null?u.$==1:false)if(v!=null?v.$==1:false)v.$0(u.$0);};c.iterF=function(u,v){if(v!=null?v.$==1:false)v.$0(u);};c.call=function(u,v){return(v!=null?v.$==1:false)?{$:1,$0:v.$0(u)}:null;};c.defaultWith=function(u,v){return v==null?u():v.$0;};c.defaultValue=function(u,v){return v==null?u:v.$0;};d=b.ExceptionThrown=l.Class({Rop_ErrMsg$get_IsWarning:function(){return false;},Rop_ErrMsg$get_ErrMsg:function(){var u;u=function(v,w){return v(n.prettyPrint(w));};return(function(v){return function(w){return u(v,w);};}(a.id))(this.exn);}},null,d);d.New=l.Ctor(function(u){this.exn=u;},d);e=b.ErrOptionIsNone=l.Class({Rop_ErrMsg$get_IsWarning:function(){return false;},Rop_ErrMsg$get_ErrMsg:function(){return"Option is None";}},null,e);e.New=l.Ctor(function(){},e);g=f.ropBuilder=l.Class({Combine:function(u,v){return(f.combine(u))(v);},Delay:function(u){return u();},Zero:function(){return f.succeed();},Using:function(u,v){return o.Using(u,v);},Bind:function(u,v){return f.bind(function(w){return f.tryCall(v,w);},u);},ReturnFrom:a.id,Return:function(u){return f.succeed(u);}},null,g);g.New=l.Ctor(function(){},g);f.getMessages=function(u){var v,w,x,y,z,A,B;return u.$===0?"":(v=(w=function(C){return!C.Rop_ErrMsg$get_IsWarning();},function(C){return p.filter(w,C);}(u)),(x=(y=function(C){return C.Rop_ErrMsg$get_IsWarning();},function(C){return p.filter(y,C);}(u)),(z=function(C,D,E,F){return C(a.String(D)+" errors, "+a.String(E)+" warnings\n"+n.toSafe(F));},((((l.Curried(z,4))(a.id))(v.get_Length()))(x.get_Length()))((A=(B=function(C){return C.Rop_ErrMsg$get_ErrMsg();},function(C){return p.map(B,C);}(u)),q.concat("\n",A))))));};f.seqCheck=function(u){var v,w,x,y;v=(w=function(z){return f.Success(z).$==1?true:false;},function(z){return r.exists(w,z);}(u));return v?f.failWithMsgs((x=function(z){var A;A=f.Success(z);return A.$==1?{$:1,$0:A.$0}:null;},function(z){return r.pick(x,z);}(u))):f.succeed((y=function(z){var A;A=f.Success(z);if(A.$==0)return A.$0[0];else throw new s.New("Result.fs",190,56);},function(z){return r.map(y,z);}(u)));};f.withError=function(u,v){var w,x,y;w=v.$0;x=v.$1;y=function(){return u(x);};return function(z){return c.defaultWith(y,z);}(w);};f.ifError=function(u,v){var w;w=v.$0;return c.defaultValue(u,w);};f.failIfTrue=function(u,v){return v?f.fail(u):f.succeed();};f.failIfFalse=function(u,v){return v?f.succeed():f.fail(u);};f.tryProtection=function(){return f.succeed();};f.toOption=function(u){return u.$0;};f.fromOption=function(u,v){return(v!=null?v.$==1:false)?f.succeed(v.$0):f.fail(u);};f.fromChoice=function(u,v){return v.$==1?f.fail(v.$0):f.succeed(v.$0);};f.result=function(){j.$cctor();return j.result;};f.tryCall=function(u,v){try{return u(v);}catch(w){return f.fail(f.failException(w));}};f.failException=function(u){return new d.New(u);};f.x=function(u){return f.Success(u).$==1?"No":"yes";};f.Success=function(u){return u.$0==null?{$:1,$0:u.$1}:{$:0,$0:[u.$0.$0,u.$1]};};f.apply=function(u,v){var w,x,y,z,A,B,C;w=u.$0;x=u.$1;y=v.$0;z=v.$1;return((w!=null?w.$==1:false)?(y!=null?y.$==1:false)?(A=[w.$0,y.$0],true):false:false)?(B=A[0],(C=A[1],{$:0,$0:{$:1,$0:B(C)},$1:p.append(x,z)})):{$:0,$0:null,$1:p.append(x,z)};};f.bind=function(u,v){var w,x,y,z,A,B;w=v.$0;x=v.$1;return w==null?{$:0,$0:null,$1:x}:(y=w.$0,(z=u(y),(A=z.$0,(B=z.$1,{$:0,$0:A,$1:p.append(x,B)}))));};f.combine=function(u){var v;v=u.$1;return function(w){return f.mergeMsgs(v,w);};};f.mergeMsgs=function(u,v){var w,x;w=(x=function(y){return p.append(u,y);},function(y){return f.mapMsgs(x,y);}(v));return{$:0,$0:w[0],$1:w[1]};};f.getMsgs=function(u){return u.$1;};f.getOption=function(u){return u.$0;};f.mapMsgs=function(u,v){return[v.$0,u(v.$1)];};f.mapMsg=function(u,v){var w,x;w=v.$0;x=v.$1;return[w,p.map(u,x)];};f.map=function(u,v){var w,x;w=v.$0;x=v.$1;return{$:0,$0:w==null?null:{$:1,$0:u(w.$0)},$1:x};};f.failWithMsgs=function(u){return{$:0,$0:null,$1:u};};f.fail=function(u){return{$:0,$0:null,$1:p.ofArray([u])};};f.succeedWithMsgs=function(u,v){return{$:0,$0:{$:1,$0:u},$1:v};};f.succeedWithMsg=function(u,v){return{$:0,$0:{$:1,$0:u},$1:p.ofArray([v])};};f.succeed=function(u){return{$:0,$0:{$:1,$0:u},$1:p.T.Empty};};i=h.Builder=l.Class({Using:function(u,v){return{$:2,$0:t.Using(u,function(w){return h.wrapper2Async(v,w);})};},Combine:function(u,v){return h.combine(h.errOptionIsNone(),u,v);},Delay:function(u){return u();},ReturnFrom:a.id,Return:function(u){return{$:3,$0:u};},Zero:function(){return{$:3,$0:null};},Bind:function(u,v){return h.bind(v,{$:4,$0:u});},Bind$1:function(u,v){return h.bind(v,{$:0,$0:u});},Bind$2:function(u,v){return h.bind(v,{$:1,$0:u});},Bind$3:function(u,v){return h.bind(v,u);}},null,i);i.New=l.Ctor(function(){},i);h.getAsyncR=function(u){var v,w,x;return u.$==3?(v=u.$0,t.Return(f.succeed(v))):u.$==4?(w=u.$0,t.Return(f.fromOption(h.errOptionIsNone(),w))):u.$==0?t.Return(u.$0):u.$==2?u.$0:(x=u.$0,t.Delay(function(){return t.Bind(x,function(y){return t.Return(f.succeed(y));});}));};h.getResult=function(u,v){var w,x,y,z;if(v.$==4){if(v.$0==null)u(f.fail(h.errOptionIsNone()));else{w=v.$0.$0;u(f.succeed(w));}}else if(v.$==0)u(v.$0);else if(v.$==1){x=v.$0;t.StartWithContinuations(x,function(A){u(f.succeed(A));},function(A){u(f.fail(f.failException(A)));},function(A){u(f.fail(f.failException(A)));},null);}else if(v.$==2){y=v.$0;t.StartWithContinuations(y,u,function(A){u(f.fail(f.failException(A)));},function(A){u(f.fail(f.failException(A)));},null);}else{z=v.$0;u(f.succeed(z));}};h.wrapper=function(){j.$cctor();return j.wrapper;};h.combine=function(u,v,w){var x,y;return v.$==4?v.$0==null?(x=p.ofArray([u]),function(z){return h.addMsgs(u,x,z);}(w)):w:v.$==0?v.$0.$1.$==0?w:(y=v.$0.$1,h.addMsgs(u,y,w)):v.$==1?w:v.$==2?w:w;};h.addMsgs=function(u,v,w){var x,y;if(v.$===0)return w;else switch(w.$==4?w.$0==null?1:(x=w.$0.$0,0):w.$==0?(x=w.$0,2):w.$==1?(x=w.$0,3):w.$==2?(x=w.$0,4):(x=w.$0,0)){case 0:return{$:0,$0:f.succeedWithMsgs(x,v)};break;case 1:return{$:0,$0:(y=f.fail(u),f.mergeMsgs(v,y))};break;case 2:return{$:0,$0:f.mergeMsgs(v,x)};break;case 3:return{$:2,$0:t.Delay(function(){return t.Bind(x,function(z){return t.Return(f.succeedWithMsgs(z,v));});})};break;case 4:return{$:2,$0:t.Delay(function(){return t.Bind(x,function(z){return t.Return(f.mergeMsgs(v,z));});})};break;}};h.wrapper2Async=function(u,v){var w,x,y,z,A;x=h.tryCall(u,v);switch(x.$==4?0:x.$==0?1:x.$==1?2:x.$==2?3:0){case 0:y=p.T.Empty;return function(B){return h.wb2arb(y,B);}(x);break;case 1:z=x.$0.$1;return h.wb2arb(z,x);break;case 2:A=x.$0;return t.Delay(function(){return t.Bind(A,function(B){return t.Return(f.succeed(B));});});break;case 3:return x.$0;break;}};h.bind=function(u,v){var w,x,y,z;switch(v.$==4?v.$0==null?1:(w=v.$0.$0,0):v.$==0?(x=f.Success(v.$0),x.$==1?(w=x.$0,2):x.$0[1].$==0?(w=x.$0[0],0):(w=[x.$0[0],x.$0[1]],3)):v.$==1?(w=v.$0,4):v.$==2?(w=v.$0,5):(w=v.$0,0)){case 0:return h.tryCall(u,w);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:f.failWithMsgs(w)};break;case 3:y=w[0];z=w[1];return function(A){var B,C,D,E;switch(A.$==3?(B=A.$0,0):A.$==0?(C=f.Success(A.$0),C.$==1?(B=C.$0,2):C.$0[1].$==0?(B=C.$0[0],0):(B=[C.$0[0],C.$0[1]],1)):A.$==1?(B=A.$0,3):A.$==2?(B=A.$0,4):5){case 0:return{$:0,$0:f.succeedWithMsgs(B,z)};break;case 1:D=B[0];E=B[1];return{$:0,$0:f.succeedWithMsgs(D,p.append(z,E))};break;case 2:return{$:0,$0:f.failWithMsgs(p.append(z,B))};break;case 3:return{$:2,$0:t.Delay(function(){return t.Bind(B,function(F){return t.Return(f.succeedWithMsgs(F,z));});})};break;case 4:return{$:2,$0:t.Delay(function(){return t.Bind(B,function(F){return t.Return(f.mergeMsgs(z,F));});})};break;case 5:throw new s.New("Result.fs",238,40);return;break;}}(h.tryCall(u,y));break;case 4:return{$:2,$0:t.Delay(function(){return t.Bind(w,function(A){var B,C;B=h.tryCall(u,A);C=p.T.Empty;return h.wb2arb(C,B);});})};break;case 5:return{$:2,$0:t.Delay(function(){return t.Bind(w,function(A){var B,C,D,E,F;B=f.Success(A);return B.$==1?(C=B.$0,t.Delay(function(){return t.Return(f.failWithMsgs(C));})):(D=B.$0[0],E=B.$0[1],F=h.tryCall(u,D),h.wb2arb(E,F));});})};break;}};h.tryCall=function(u,v){try{return u(v);}catch(w){return{$:0,$0:f.fail(f.failException(w))};}};h.wb2arb=function(u,v){var w;switch(v.$==2?(w=v.$0,1):v.$==0?(w=v.$0,2):v.$==3?(w=v.$0,3):v.$==4?v.$0==null?4:(w=v.$0.$0,3):(w=v.$0,0)){case 0:return t.Delay(function(){return t.Bind(w,function(x){return t.Return(f.succeedWithMsgs(x,u));});});break;case 1:return t.Delay(function(){return t.Bind(w,function(x){return t.Return(f.mergeMsgs(u,x));});});break;case 2:return t.Delay(function(){return t.Return(f.mergeMsgs(u,w));});break;case 3:return t.Delay(function(){return t.Return(f.succeedWithMsgs(w,u));});break;case 4:return t.Delay(function(){return t.Return(f.failWithMsgs(new p.T({$:1,$0:h.errOptionIsNone(),$1:u})));});break;}};h.errOptionIsNone=function(){j.$cctor();return j.errOptionIsNone;};j.$cctor=l.Cctor(function(){j.result=new g.New();j.errOptionIsNone=new e.New();j.wrapper=new i.New();j.$cctor=a.ignore;});}());
