(function(){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;var a=Array,b=IntelliFactory,c=Number;d=window.WebSharper=window.WebSharper||{};e=d.Collections=d.Collections||{};f=e.BalancedTree=e.BalancedTree||{};g=f.Tree=f.Tree||{};h=e.Pair=e.Pair||{};i=e.MapUtil=e.MapUtil||{};j=e.FSharpMap=e.FSharpMap||{};k=e.Map=e.Map||{};l=e.FSharpSet=e.FSharpSet||{};m=e.Set=e.Set||{};n=e.ListEnumerator=e.ListEnumerator||{};o=e.List=e.List||{};p=e.ResizeArray=e.ResizeArray||{};q=e.LinkedListEnumerator=e.LinkedListEnumerator||{};r=e.LinkedList=e.LinkedList||{};s=d.Grouping=d.Grouping||{};t=d.FsComparer=d.FsComparer||{};u=d.ProjectionComparer=d.ProjectionComparer||{};v=d.CompoundComparer=d.CompoundComparer||{};w=d.ReverseComparer=d.ReverseComparer||{};x=d.OrderedEnumerable=d.OrderedEnumerable||{};y=d.Linq=d.Linq||{};z=d&&d.Arrays;A=d&&d.Seq;B=d&&d.Unchecked;C=d&&d.List;D=b&&b.Runtime;E=d&&d.Enumerator;F=d&&d.Operators;G=e&&e.HashSet;H=e&&e.Dictionary;I=d&&d.Nullable;g.New=function(J,K,L,M,N){return{Node:J,Left:K,Right:L,Height:M,Count:N};};f.TryFind=function(J,K){var L;L=(f.Lookup(J,K))[0];return L==null?null:{$:1,$0:L.Node};};f.Contains=function(J,K){return!((f.Lookup(J,K))[0]==null);};f.Add=function(J,K){return f.Put(function(L,M){return M;},J,K);};f.Remove=function(J,K){var L,M,N,O;L=f.Lookup(J,K);M=L[0];N=L[1];return M==null?K:M.Right==null?f.Rebuild(N,M.Left):M.Left==null?f.Rebuild(N,M.Right):f.Rebuild(N,(O=z.ofSeq(A.append(f.Enumerate(false,M.Left),f.Enumerate(false,M.Right))),f.Build(O,0,O.length-1)));};f.Put=function(J,K,L){var M,N;M=f.Lookup(K,L);N=M[0];return N==null?f.Rebuild(M[1],f.Branch(K,null,null)):f.Rebuild(M[1],f.Branch(J(N.Node,K),N.Left,N.Right));};f.Rebuild=function(J,K){var L,N,O,P,Q,R,S,T,U,V;function M(W){return W==null?0:W.Height;}L=K;for(N=0,O=z.length(J)-1;N<=O;N++){L=(P=z.get(J,N),P[0]?(Q=P[1],(R=P[2],M(L)>M(R)+1?M(L.Left)===M(L.Right)+1?(S=L.Left,f.Branch(S.Node,f.Branch(Q,R,S.Left),f.Branch(L.Node,S.Right,L.Right))):f.Branch(L.Node,f.Branch(Q,R,L.Left),L.Right):f.Branch(Q,R,L))):(T=P[1],(U=P[2],M(L)>M(U)+1?M(L.Right)===M(L.Left)+1?(V=L.Right,f.Branch(V.Node,f.Branch(L.Node,L.Left,V.Left),f.Branch(T,V.Right,U))):f.Branch(L.Node,L.Left,f.Branch(T,L.Right,U)):f.Branch(T,L,U))));}return L;};f.Lookup=function(J,K){var L,M,N,O;L=[];M=K;N=true;while(N)if(M==null)N=false;else{O=B.Compare(J,M.Node);O===0?N=false:O===1?(L.unshift([true,M.Node,M.Left]),M=M.Right):(L.unshift([false,M.Node,M.Right]),M=M.Left);}return[M,L];};f.OfSeq=function(J){var K;K=z.ofSeq(A.distinct(J));z.sortInPlace(K);return f.Build(K,0,K.length-1);};f.Build=function(J,K,L){var M,N,O;return L-K+1<=0?null:(M=(K+L)/2>>0,(N=f.Build(J,K,M-1),(O=f.Build(J,M+1,L),f.Branch(z.get(J,M),N,O))));};f.Enumerate=function(J,K){var L;L=function(M,N){var O;while(true)if(M==null)return N.$==1?{$:1,$0:[N.$0[0],[N.$0[1],N.$1]]}:null;else if(J){O=M;M=O.Right;N=new C.T({$:1,$0:[O.Node,O.Left],$1:N});}else{O=M;M=O.Left;N=new C.T({$:1,$0:[O.Node,O.Right],$1:N});}};return A.unfold(function(M){return L(M[0],M[1]);},[K,C.T.Empty]);};f.Branch=function(J,K,L){var M,N;return g.New(J,K,L,1+(M=K==null?0:K.Height,(N=L==null?0:L.Height,B.Compare(M,N)===1?M:N)),1+(K==null?0:K.Count)+(L==null?0:L.Count));};h=e.Pair=D.Class({Equals:function(J){return B.Equals(this.Key,J.Key);},GetHashCode:function(){return B.Hash(this.Key);},CompareTo0:function(J){return B.Compare(this.Key,J.Key);}},null,h);h.New=function(J,K){return new h({Key:J,Value:K});};i.fromSeq=function(J){var K;K=z.ofSeq(A.delay(function(){return A.collect(function(L){return[h.New(L[0],L[1])];},A.distinctBy(function(L){return L[0];},J));}));z.sortInPlace(K);return f.Build(K,0,K.length-1);};j=e.FSharpMap=D.Class({Equals:function(J){return this.get_Count()===J.get_Count()&&A.forall2(B.Equals,this,J);},GetHashCode:function(){return B.Hash(z.ofSeq(this));},GetEnumerator$1:function(){return E.Get(A.map(function(J){return{K:J.Key,V:J.Value};},f.Enumerate(false,this.tree)));},TryFind:function(J){var K;K=f.TryFind(h.New(J,void 0),this.tree);return K==null?null:{$:1,$0:K.$0.Value};},Remove:function(J){return new j.New$1(f.Remove(h.New(J,void 0),this.tree));},get_Item:function(J){var K;K=this.TryFind(J);return K==null?F.FailWith("The given key was not present in the dictionary."):K.$0;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var J;J=this.tree;return J==null?0:J.Count;},ContainsKey:function(J){return f.Contains(h.New(J,void 0),this.tree);},Add:function(J,K){return new j.New$1(f.Add(h.New(J,K),this.tree));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(J){return A.compareWith(B.Compare,this,J);}},null,j);j.New=D.Ctor(function(J){j.New$1.call(this,i.fromSeq(J));},j);j.New$1=D.Ctor(function(J){this.tree=J;},j);k.Map=function(J,K){return new j.New$1(f.OfSeq(A.map(function(L){return h.New(L.Key,J(L.Key,L.Value));},f.Enumerate(false,K.get_Tree()))));};k.TryPick=function(J,K){return A.tryPick(function(L){return J(L.K,L.V);},K);};k.TryFindKey=function(J,K){return A.tryPick(function(L){return J(L.K,L.V)?{$:1,$0:L.K}:null;},K);};k.TryFind=function(J,K){return K.TryFind(J);};k.ToSeq=function(J){return A.map(function(K){return[K.Key,K.Value];},f.Enumerate(false,J.get_Tree()));};k.Pick=function(J,K){return A.pick(function(L){return J(L.K,L.V);},K);};k.Partition=function(J,K){var L,M,N;L=z.partition(function(O){return J(O.Key,O.Value);},z.ofSeq(f.Enumerate(false,K.get_Tree())));return[new j.New$1((M=L[0],f.Build(M,0,M.length-1))),new j.New$1((N=L[1],f.Build(N,0,N.length-1)))];};k.OfArray=function(J){return new j.New$1(f.OfSeq(A.map(function(K){return h.New(K[0],K[1]);},J)));};k.Iterate=function(J,K){A.iter(function(L){J(L.K,L.V);},K);};k.ForAll=function(J,K){return A.forall(function(L){return J(L.K,L.V);},K);};k.FoldBack=function(J,K,L){return A.fold(function(M,N){return J(N.Key,N.Value,M);},L,f.Enumerate(true,K.get_Tree()));};k.Fold=function(J,K,L){return A.fold(function(M,N){return J(M,N.Key,N.Value);},K,f.Enumerate(false,L.get_Tree()));};k.FindKey=function(J,K){return A.pick(function(L){return J(L.K,L.V)?{$:1,$0:L.K}:null;},K);};k.Filter=function(J,K){var L;return new j.New$1((L=z.ofSeq(A.filter(function(M){return J(M.Key,M.Value);},f.Enumerate(false,K.get_Tree()))),f.Build(L,0,L.length-1)));};k.Exists=function(J,K){return A.exists(function(L){return J(L.K,L.V);},K);};l=e.FSharpSet=D.Class({Equals:function(J){return this.get_Count()===J.get_Count()&&A.forall2(B.Equals,this,J);},GetHashCode:function(){return -1741749453+B.Hash(z.ofSeq(this));},GetEnumerator$1:function(){return E.Get(f.Enumerate(false,this.tree));},Remove:function(J){return new l.New$1(f.Remove(J,this.tree));},get_MinimumElement:function(){return A.head(f.Enumerate(false,this.tree));},get_MaximumElement:function(){return A.head(f.Enumerate(true,this.tree));},IsSupersetOf:function(J){var K;K=this;return A.forall(function(L){return K.Contains(L);},J);},IsSubsetOf:function(J){return A.forall(function(K){return J.Contains(K);},this);},IsProperSupersetOf:function(J){return this.IsSupersetOf(J)&&this.get_Count()>J.get_Count();},IsProperSubsetOf:function(J){return this.IsSubsetOf(J)&&this.get_Count()<J.get_Count();},get_Tree:function(){return this.tree;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var J;J=this.tree;return J==null?0:J.Count;},Contains:function(J){return f.Contains(J,this.tree);},Add:function(J){return new l.New$1(f.Add(J,this.tree));},sub:function(J){return m.Filter(function(K){return!J.Contains(K);},this);},add:function(J){return new l.New$1(f.OfSeq(A.append(this,J)));},CompareTo0:function(J){return A.compareWith(B.Compare,this,J);},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,l);l.op_Subtraction=function(J,K){return m.Filter(function(L){return!K.Contains(L);},J);};l.op_Addition=function(J,K){return new l.New$1(f.OfSeq(A.append(J,K)));};l.New=D.Ctor(function(J){l.New$1.call(this,f.OfSeq(J));},l);l.New$1=D.Ctor(function(J){this.tree=J;},l);m.Partition=function(J,K){var L;L=z.partition(J,z.ofSeq(K));return[new l.New$1(f.OfSeq(L[0])),new l.New$1(f.OfSeq(L[1]))];};m.FoldBack=function(J,K,L){return A.fold(function(M,N){return J(N,M);},L,f.Enumerate(true,K.get_Tree()));};m.Filter=function(J,K){var L;return new l.New$1((L=z.ofSeq(A.filter(J,K)),f.Build(L,0,L.length-1)));};n=e.ListEnumerator=D.Class({get_Current:function(){return z.get(this.arr,this.i);},MoveNext$1:function(){this.i=this.i+1;return this.i<z.length(this.arr);},Dispose:function(){},Current:function(){return z.get(this.arr,this.i);},Reset:function(){F.FailWith("IEnumerator.Reset not supported");},Current0:function(){return z.get(this.arr,this.i);},MoveNext:function(){return this.MoveNext$1();}},null,n);n.New=D.Ctor(function(J){this.arr=J;this.i=-1;},n);o=e.List=D.Class({ToArray:function(){return this.arr.slice();},Reverse:function(J,K){z.reverse(this.arr,J,K);},Reverse$1:function(){this.arr.reverse();},RemoveRange:function(J,K){p.splice(this.arr,J,K,[]);},RemoveAt:function(J){p.splice(this.arr,J,1,[]);},set_Item:function(J,K){z.set(this.arr,J,K);},get_Item:function(J){return z.get(this.arr,J);},InsertRange:function(J,K){p.splice(this.arr,J,0,z.ofSeq(K));},Insert:function(J,K){p.splice(this.arr,J,0,[K]);},GetRange:function(J,K){return new o.New$3(z.sub(this.arr,J,K));},get_Count:function(){return z.length(this.arr);},CopyTo:function(J,K,L,M){z.blit(this.arr,J,K,L,M);},CopyTo$1:function(J,K){this.CopyTo(0,J,K,this.get_Count());},CopyTo$2:function(J){this.CopyTo$1(J,0);},Clear:function(){p.splice(this.arr,0,z.length(this.arr),[]);},AddRange:function(J){var K;K=this;A.iter(function(L){K.Add(L);},J);},Add:function(J){this.arr.push(J);},GetEnumerator:function(){return E.Get(this.arr);},GetEnumerator0:function(){return E.Get0(this.arr);}},null,o);o.New=D.Ctor(function(J){o.New$3.call(this,z.ofSeq(J));},o);o.New$1=D.Ctor(function(J){o.New$3.call(this,[]);},o);o.New$2=D.Ctor(function(){o.New$3.call(this,[]);},o);o.New$3=D.Ctor(function(J){this.arr=J;},o);p.splice=function(J,K,L,M){return a.prototype.splice.apply(J,[K,L].concat(M));};q=e.LinkedListEnumerator=D.Class({Reset:function(){},Dispose:function(){},MoveNext:function(){this.c=this.c.n;return!B.Equals(this.c,null);},Current0:function(){return this.c.v;},Current:function(){return this.c.v;}},null,q);q.New=D.Ctor(function(J){this.c=J;},q);r=e.LinkedList=D.Class({RemoveLast:function(){this.Remove$1(this.p);},RemoveFirst:function(){this.Remove$1(this.n);},Remove:function(J){var K;K=this.Find(J);return B.Equals(K,null)?false:(this.Remove$1(K),true);},Remove$1:function(J){var K,L;K=J.p;L=J.n;B.Equals(K,null)?this.n=L:K.n=L;B.Equals(L,null)?this.p=K:L.p=K;this.c=this.c-1;},GetEnumerator$1:function(){return new q.New(this);},FindLast:function(J){var K,L;K=this.p;L=true;while(L&&!B.Equals(K,null))if(K.v==J)L=false;else K=K.p;return L?null:K;},Find:function(J){var K,L;K=this.n;L=true;while(L&&!B.Equals(K,null))if(K.v==J)L=false;else K=K.n;return L?null:K;},Contains:function(J){var K,L;K=false;L=this.n;while(!B.Equals(L,null)&&!K)if(L.v==J)K=true;else L=L.n;return K;},Clear:function(){this.c=0;this.n=null;this.p=null;},AddLast:function(J){var K;return this.c===0?(K={p:null,n:null,v:J},(this.n=K,this.p=this.n,this.c=1,K)):this.AddAfter(this.p,J);},AddFirst:function(J){var K;return this.c===0?(K={p:null,n:null,v:J},(this.n=K,this.p=this.n,this.c=1,K)):this.AddBefore(this.n,J);},AddBefore:function(J,K){var L,M;L=J.p;M={p:L,n:J,v:K};B.Equals(J.p,null)?this.n=M:void 0;J.p=M;!B.Equals(L,null)?L.n=M:void 0;this.c=this.c+1;return M;},AddAfter:function(J,K){var L,M;L=J.n;M={p:J,n:L,v:K};B.Equals(J.n,null)?this.p=M:void 0;J.n=M;!B.Equals(L,null)?L.p=M:void 0;this.c=this.c+1;return M;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},null,r);r.New=D.Ctor(function(){r.New$1.call(this,[]);},r);r.New$1=D.Ctor(function(J){var K,L;this.c=0;this.n=null;this.p=null;K=E.Get(J);K.MoveNext()?(this.n={p:null,n:null,v:K.Current()},this.p=this.n,this.c=1):void 0;while(K.MoveNext()){L={p:this.p,n:null,v:K.Current()};this.p.n=L;this.p=L;this.c=this.c+1;}},r);s=d.Grouping=D.Class({System_Linq_IGrouping_2$get_Key:function(){return this.k;},GetEnumerator0:function(){return E.Get0(this.v);},GetEnumerator:function(){return E.Get(this.v);}},null,s);s.New=D.Ctor(function(J,K){this.k=J;this.v=K;},s);t=d.FsComparer=D.Class({Compare:function(J,K){return B.Compare(J,K);}},null,t);t.New=D.Ctor(function(){},t);u=d.ProjectionComparer=D.Class({Compare:function(J,K){return this.primary.Compare(this.projection(J),this.projection(K));}},null,u);u.New=D.Ctor(function(J,K){this.primary=J;this.projection=K;},u);v=d.CompoundComparer=D.Class({Compare:function(J,K){var L;L=this.primary.Compare(J,K);return L===0?this.secondary.Compare(J,K):L;}},null,v);v.New=D.Ctor(function(J,K){this.primary=J;this.secondary=K;},v);w=d.ReverseComparer=D.Class({Compare:function(J,K){return this.primary.Compare(this.projection(K),this.projection(J));}},null,w);w.New=D.Ctor(function(J,K){this.primary=J;this.projection=K;},w);x=d.OrderedEnumerable=D.Class({GetEnumerator0:function(){return E.Get(this);},GetEnumerator:function(){var J,K;J=this;K=z.ofSeq(this.source);z.sortInPlaceWith(function(L,M){return J.primary.Compare(L,M);},K);return E.Get(K);},System_Linq_IOrderedEnumerable_1$CreateOrderedEnumerable:function(J,K,L){return new x.New(this.source,new v.New(this.primary,L?new w.New(K,J):new u.New(K,J)));}},null,x);x.New=D.Ctor(function(J,K){this.source=J;this.primary=K;},x);y.ElementAtOrDefault=function(J,K,L){try{return A.nth(K,J);}catch(M){return L;}};y.FirstOrDefault=function(J,K){var L;L=E.Get(J);try{return L.MoveNext()?L.Current():K;}finally{if("Dispose"in L)L.Dispose();}};y.FirstOrDefault$1=function(J,K,L){var M;M=A.tryFind(K,J);return M==null?L:M.$0;};y.LastOrDefault=function(J,K,L){var M;M=y.LastPred(J,K);return M==null?L:M.$0;};y.SingleOrDefault=function(J,K,L){var M,N;M=E.Get(J);try{N=null;while(M.MoveNext())if(K(M.Current()))if(N!=null&&N.$==1)F.InvalidOp("Sequence contains more than one element");else N={$:1,$0:M.Current()};return N==null?L:N.$0;}finally{if("Dispose"in M)M.Dispose();}};y.Where=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){var M;M=0;return A.enumWhile(function(){return L.MoveNext();},A.delay(function(){return A.append(K(L.Current(),M)?[L.Current()]:[],A.delay(function(){M=M+1;return[];}));}));});});};y.Union=function(J,K,L){var M,N;M=new G.New(J,L);N=E.Get(K);try{while(N.MoveNext())M.Add(N.Current());}finally{if("Dispose"in N)N.Dispose();}return M;};y.ToDictionary=function(J,K,L,M){var N;N=new H.New$3(M);A.iter(function(O){N.Add(K(O),L(O));},J);return N;};y.ToDictionary$1=function(J,K,L){var M;M=new H.New$3(L);A.iter(function(N){M.Add(K(N),N);},J);return M;};y.TakeWhile=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){return A.enumWhile(function(){return L.MoveNext()&&K(L.Current());},A.delay(function(){return[L.Current()];}));});});};y.TakeWhile$1=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){var M;M=0;return A.enumWhile(function(){return L.MoveNext()&&K(L.Current(),M);},A.delay(function(){M=M+1;return[L.Current()];}));});});};y.Take=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){var M;M=0;return A.enumWhile(function(){return M<K&&L.MoveNext();},A.delay(function(){M=M+1;return[L.Current()];}));});});};y.Sum=function(J){var K;K=A.choose(function(L){return L!=null?{$:1,$0:I.get(L)}:null;},J);return A.isEmpty(K)?null:A.sum(K);};y.SkipWhile=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){var M;M=true;return A.append(A.enumWhile(function(){return M&&L.MoveNext();},A.delay(function(){return!K(L.Current())?(M=false,[]):[];})),A.delay(function(){return!M?A.append([L.Current()],A.delay(function(){return A.enumWhile(function(){return L.MoveNext();},A.delay(function(){return[L.Current()];}));})):[];}));});});};y.SkipWhile$1=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){var M,N;M=0;N=true;return A.append(A.enumWhile(function(){return N&&L.MoveNext();},A.delay(function(){return K(L.Current(),M)?(M=M+1,[]):(N=false,[]);})),A.delay(function(){return!N?A.append([L.Current()],A.delay(function(){return A.enumWhile(function(){return L.MoveNext();},A.delay(function(){return[L.Current()];}));})):[];}));});});};y.Skip=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){var M;M=0;return A.append(A.enumWhile(function(){return M<K&&L.MoveNext();},A.delay(function(){M=M+1;return[];})),A.delay(function(){return A.enumWhile(function(){return L.MoveNext();},A.delay(function(){return[L.Current()];}));}));});});};y.Single=function(J,K){var L,M;L=((M=function(N,O){return K(O)?N!=null?F.InvalidOp("Sequence contains more than one matching element"):{$:1,$0:O}:N;},(D.Curried3(A.fold))(M))(null))(J);return L!=null&&L.$==1?L.$0:F.InvalidOp("Sequence contains no elements");};y.SequenceEqual=function(J,K,L){var M,N,O;M=E.Get(J);try{O=E.Get(J);try{N=function(){while(true)if(M.MoveNext()){if(!(O.MoveNext()&&L.CEquals(M.Current(),O.Current())))return false;}else return!O.MoveNext();}();}finally{if("Dispose"in O)O.Dispose();}return N;}finally{if("Dispose"in M)M.Dispose();}};y.SelectMany=function(J,K,L){var M;M=function(N,O){return A.map(function(P){return L(N,P);},O);};return A.collect(function(N){return M(N[0],N[1]);},A.mapi(function(N,O){return[O,K(O,N)];},J));};y.SelectMany$1=function(J,K,L){var M;M=function(N,O){return A.map(function(P){return L(N,P);},O);};return A.collect(function(N){return M(N[0],N[1]);},A.map(function(N){return[N,K(N)];},J));};y.SelectMany$2=function(J,K){return A.concat(A.mapi(function(L,M){return K(M,L);},J));};y.Select=function(J,K){return A.mapi(function(L,M){return K(M,L);},J);};y.Reverse=function(J){return z.ofSeq(J).slice().reverse();};y.Repeat=function(J,K){return A.init(K,function(){return J;});};y.Range=function(J,K){return A.init(K,function(L){return J+L;});};y.OrderByDescending=function(J,K,L){return new x.New(J,new w.New(L,K));};y.OrderBy=function(J,K,L){return new x.New(J,new u.New(L,K));};y.Min=function(J){var K;K=A.choose(function(L){return L!=null?{$:1,$0:I.get(L)}:null;},J);return A.isEmpty(K)?null:A.min(K);};y.Max=function(J){var K;K=A.choose(function(L){return L!=null?{$:1,$0:I.get(L)}:null;},J);return A.isEmpty(K)?null:A.max(K);};y.Last=function(J,K){var L;L=y.LastPred(J,K);return L==null?F.InvalidOp("Sequence contains no matching element"):L.$0;};y.LastPred=function(J,K){var L;return((L=function(M,N){return K(N)?{$:1,$0:N}:M;},(D.Curried3(A.fold))(L))(null))(J);};y.Join=function(J,K,L,M,N,O){return A.delay(function(){var P,Q,R;P=new H.New$3(O);Q=z.ofSeq(A.delay(function(){return A.collect(function(S){var T,U,V;T=L(S);return(U=null,[P.TryGetValue(T,{get:function(){return U;},set:function(W){U=W;}}),U])[0]?[]:(V=[S,new o.New$2()],(P.Add(T,V),[V]));},J);}));R=E.Get(K);try{while(R.MoveNext())(function(){var S,T,U;S=R.Current();T=(U=null,[P.TryGetValue(M(S),{get:function(){return U;},set:function(V){U=V;}}),U]);return T[0]?T[1][1].Add(S):null;}());}finally{if("Dispose"in R)R.Dispose();}return z.ofSeq(A.delay(function(){return A.collect(function(S){var T;T=S[0];return A.map(function(U){return N(T,U);},S[1]);},Q);}));});};y.Intersect=function(J,K,L){var M;M=new G.New(J,L);return A.delay(function(){var N;N=new G.New$1(L);return A.collect(function(O){return M.Contains(O)&&N.Add(O)?[O]:[];},K);});};y.GroupJoin=function(J,K,L,M,N,O){return A.delay(function(){var P,Q,R;P=new H.New$3(O);Q=z.ofSeq(A.delay(function(){return A.collect(function(S){var T,U,V;T=L(S);return(U=null,[P.TryGetValue(T,{get:function(){return U;},set:function(W){U=W;}}),U])[0]?[]:(V=[S,new o.New$2()],(P.Add(T,V),[V]));},J);}));R=E.Get(K);try{while(R.MoveNext())(function(){var S,T,U;S=R.Current();T=(U=null,[P.TryGetValue(M(S),{get:function(){return U;},set:function(V){U=V;}}),U]);return T[0]?T[1][1].Add(S):null;}());}finally{if("Dispose"in R)R.Dispose();}z.iteri(function(S,T){return z.set(Q,S,N(T[0],T[1]));},Q);return Q;});};y.GroupBy=function(J,K,L,M,N){return A.map(function(O){return M(O.System_Linq_IGrouping_2$get_Key(),O);},y.GroupBy$1(J,K,L,N));};y.GroupBy$1=function(J,K,L,M){return A.delay(function(){return z.ofSeq(A.delay(function(){var N;N=new H.New$3(M);return A.collect(function(O){var P,Q,R,S,T;P=K(O);Q=L(O);R=(S=null,[N.TryGetValue(P,{get:function(){return S;},set:function(U){S=U;}}),S]);return R[0]?(R[1].Add(Q),[]):(T=new o.New$2(),(T.Add(Q),N.set_Item(P,T),[new s.New(P,T)]));},J);}));});};y.Except=function(J,K,L){var M,N;M=new G.New(J,L);N=E.Get(K);try{while(N.MoveNext())M.Remove(N.Current());}finally{if("Dispose"in N)N.Dispose();}return M;};y.Distinct=function(J,K){return A.delay(function(){return A.enumUsing(E.Get(J),function(L){var M;M=new G.New$1(K);return A.enumWhile(function(){return L.MoveNext();},A.delay(function(){return M.Add(L.Current())?[L.Current()]:[];}));});});};y.DefaultIfEmpty=function(J,K){return A.isEmpty(J)?[K]:J;};y.Average=function(J){var K,L,M,N;K=[];L=E.Get(J);try{while(L.MoveNext()){if(M=L.Current(),M!=null){K.push((N=L.Current(),I.get(N)));}}return z.length(K)===0?null:A.sum(K)/c(z.length(K));}finally{if("Dispose"in L)L.Dispose();}};}());
