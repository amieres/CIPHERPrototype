(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl;a=window;b=a.CIPHERPrototype=a.CIPHERPrototype||{};c=b.LoginForm=b.LoginForm||{};d=c.Model=c.Model||{};e=c.Message=c.Message||{};f=b.LoginUINext=b.LoginUINext||{};g=b.CodeMirror=b.CodeMirror||{};h=b.EditorRpc=b.EditorRpc||{};i=b.TestFormModule=b.TestFormModule||{};j=i.Button=i.Button||{};k=a.FSharpStationNS=a.FSharpStationNS||{};l=k.HtmlNode=k.HtmlNode||{};m=l.Val=l.Val||{};n=m.HelperType=m.HelperType||{};o=l.HtmlNode=l.HtmlNode||{};p=k.Template=k.Template||{};q=p.Button=p.Button||{};r=p.Input=p.Input||{};s=p.Hoverable=p.Hoverable||{};t=p.TextArea=p.TextArea||{};u=p.CodeMirror=p.CodeMirror||{};v=p.SplitterBar=p.SplitterBar||{};w=p.Grid=p.Grid||{};x=k.RunCode=k.RunCode||{};y=x.EditorRpc=x.EditorRpc||{};z=x.RunNode=x.RunNode||{};A=k.FSharpStation=k.FSharpStation||{};B=A.CodeSnippetId=A.CodeSnippetId||{};C=A.CodeSnippet=A.CodeSnippet||{};D=A.Position=A.Position||{};E=a.StartupCode$WebServer$CodeEditor=a.StartupCode$WebServer$CodeEditor||{};F=b.WebServer=b.WebServer||{};G=F.Client=F.Client||{};H=a.WebServer_JsonDecoder=a.WebServer_JsonDecoder||{};I=a.WebServer_Templates=a.WebServer_Templates||{};J=a.WebServer_JsonEncoder=a.WebServer_JsonEncoder||{};K=b&&b.App;L=K&&K.App;M=a.IntelliFactory;N=M&&M.Runtime;O=a.WebSharper;P=O&&O.List;Q=a.Rop;R=Q&&Q.Result;S=Q&&Q.Wrap;T=b&&b.CIPHERHtml;U=O&&O.Remoting;V=U&&U.AjaxRemotingProvider;W=O&&O.Seq;X=O&&O.UI;Y=X&&X.Next;Z=Y&&Y.Var;_0=Y&&Y.Doc;_1=Y&&Y.View;_2=Y&&Y.AttrModule;_3=O&&O.Concurrency;_4=b&&b.Val;_5=_4&&_4.Html;_6=Y&&Y.AttrProxy;_7=O&&O.PrintfHelpers;_8=Y&&Y.Input;_9=_8&&_8.Mouse;_=O&&O.Strings;$=O&&O.Arrays;ba=O&&O.Collections;bb=ba&&ba.FSharpSet;bc=ba&&ba.BalancedTree;bd=O&&O.Operators;be=O&&O.Unchecked;bf=O&&O.Guid;bg=O&&O.Option;bh=O&&O.Json;bi=bh&&bh.Provider;bj=O&&O.Slice;bk=Y&&Y.Storage;bl=Y&&Y.ListModel;d.New=function(bm,bn,bo,bp,bq){return{userName:bm,password:bn,inProgress:bo,goLink:bp,error:bq};};e.Submit={$:2};c.showForm=function(bm,bn){return K.withContainerDo("",function(bo){var bp;bp=new L.New$1(c.init(bm,bn),c.update,N.Curried3(c.view));bp.run(K.DummyNew(),bo);});};c.view=function(bm,bn,bo){var bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ;bp=(bq=(br=function(bK){bo({$:3,$0:P.head(bK).Rop_ErrMsg$get_ErrMsg()});},function(bK){R.withError(br,bK);}),function(bK){S.getResult(bq,bK);});bs=bn.inProgress?" disabled":"";bt=(bu=T.Form([(bv=T.Input([T.Type("text"),T.Class("form-control"+bs),T.Placeholder("User Name"),T.Value(bn.userName),T.Disabled(bn.inProgress)]),(T.OnChange((bw=(bx=(by=function(bK){return bK.target;},(bz=function(bK){return bK.value;},function(bK){return bz(by(bK));})),(bA=function(bK){return{$:0,$0:bK};},function(bK){return bA(bx(bK));})),function(bK){return bo(bw(bK));})))(bv)),T.Br([]),(bB=T.Input([T.Type("password"),T.Class("form-control"+bs),T.Placeholder("Password"),T.Value(bn.password),T.Disabled(bn.inProgress)]),(T.OnChange((bC=(bD=(bE=function(bK){return bK.target;},(bF=function(bK){return bK.value;},function(bK){return bF(bE(bK));})),(bG=function(bK){return{$:1,$0:bK};},function(bK){return bG(bD(bK));})),function(bK){return bo(bC(bK));})))(bB)),T.Br([]),T.Button([T.Type("submit"),T.Class("btn btn-primary btn-block"+bs),{$:1,$0:"Login"}]),T.Div([T.Class("flex-row"),T.Div([T.Class("flexgrow"),T.Hr([])]),T.Div([T.Class("flexgrow-1-5 text-center"),T.H5([{$:1,$0:"or"}])]),T.Div([T.Class("flexgrow"),T.Hr([])])]),(bH=T.Button([T.Type("button"),T.Class("btn btn-info btn-block"+bs),{$:1,$0:"Enter as Guest"}]),(T.OnClick(function(){var bK;bo(e.Submit);bp((bK=S.wrapper(),bK.Delay(function(){return bK.Bind$3({$:2,$0:(new V.New()).Async("Remote:CIPHERPrototype.RemoteLogin.guestLoginAR_:1736357544",[])},function(){a.window.location.href=bn.goLink;return bK.Zero();});})));}))(bH)),T.Br([]),T.Div(P.ofSeq(W.delay(function(){return W.append([T.Class("text-center")],W.delay(function(){return bn.inProgress?[T.Img([T.Src("/EPFileX/image/loader.gif")])]:[];}));}))),T.Div((bI=bn.error,bI==null?P.T.Empty:(bJ=bI.$0,P.ofArray([T.Class("alert alert-danger"),{$:1,$0:bJ}]))))]),(T.OnSubmit(function(bK){var bL;bK.preventDefault();bo(e.Submit);bp((bL=S.wrapper(),bL.Delay(function(){return bL.Bind$3({$:2,$0:(new V.New()).Async("Remote:CIPHERPrototype.RemoteLogin.LoginAR_:479691151",[bn.userName,bn.password])},function(){a.window.location.href=bn.goLink;return bL.Zero();});})));}))(bu));return T.Div([T.Class("flex-row flex-align-center flexgrow"),T.Div([T.Class("blur"),T._Style([T._position("absolute"),T._top("0Px"),T._left("0Px"),T._bottom("0Px"),T._right("0Px"),T.newAttr("backgroundImage","url('/EPFileX/image/BI_CONSULTANCY.jpg')"),T.newAttr("backgroundSize","cover"),T.newAttr("backgroundPosition","center center")])]),T.Div([T.Class("container"),T.Div([T.Class("row"),T.Div([T.Class("col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3"),T.Div([T.Class("panel panel-default shadow"),T.Div([T.Class("panel-body"),T.Div([T._Style([T._textAlign("center")]),T.Img([{$:2,$0:"alt",$1:"Brand"},T.Src("/EPFileX/image/LOGO_cipher2.png"),T._Style([T._width("200px")])]),bt])])])])])])]);};c.update=function(bm,bn,bo){var bp,bq,br;return bn.$==1?(bp=bn.$0,d.New(bo.userName,bp,bo.inProgress,bo.goLink,null)):bn.$==2?d.New(bo.userName,bo.password,true,bo.goLink,bo.error):bn.$==3?(bq=bn.$0,d.New(bo.userName,bo.password,false,bo.goLink,{$:1,$0:bq})):(br=bn.$0,d.New(br,bo.password,bo.inProgress,bo.goLink,null));};c.init=function(bm,bn){return d.New("","",false,bm,bn);};f.showForm=function(bm){var bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH;bn=Z.Create$1("");bo=Z.Create$1("");bp=Z.Create$1("");bq=Z.Create$1(false);br=_0.EmbedView((bs=bq.v,(bt=bp.v,_1.Map2(function(bI,bJ){var bK,bL;return bI?I.hourglass(P.T.Empty):bJ===""?_0.Empty():I.alert((bK=P.T.Empty,(bL=bp.v,new P.T({$:1,$0:{$:2,$0:"text",$1:bL},$1:bK}))));},bs,bt))));bu=function(bI){var bJ,bK;bJ=function(bL){var bM;Z.Set(bq,false);bM=function(bN){var bO;bO=P.head(bN).Rop_ErrMsg$get_ErrMsg();Z.Set(bp,bO);};(function(bN){R.withError(bM,bN);}(bL));};return function(bL){S.getResult(bJ,bL);}((bK=S.wrapper(),bK.Delay(function(){Z.Set(bp,"");Z.Set(bq,true);return bK.Bind$3({$:2,$0:bI()},function(){a.window.location.href=bm;return bK.Zero();});})));};return I.loginformcipher((bv=(bw=(bx=(by=(bz=(bA=P.T.Empty,new P.T({$:1,$0:{$:6,$0:"varemail",$1:bn},$1:bA})),new P.T({$:1,$0:{$:6,$0:"varpassword",$1:bo},$1:bz})),new P.T({$:1,$0:{$:0,$0:"htmlmessage",$1:br},$1:by})),(bB=(bC=_1.Const("disabled"),(bD=bq.v,_2.DynamicPred("disabled",bD,bC))),new P.T({$:1,$0:{$:3,$0:"attrdisabled",$1:bB},$1:bx}))),(bE=(bF=function(){return(new V.New()).Async("Remote:CIPHERPrototype.RemoteLogin.LoginAR_:479691151",[bn.c,bo.c]);},function(bI){return bu(bF,bI);}),new P.T({$:1,$0:{$:4,$0:"clicksubmit",$1:function(){return function(){return bE();};}},$1:bw}))),(bG=(bH=function(){return(new V.New()).Async("Remote:CIPHERPrototype.RemoteLogin.guestLoginAR_:1736357544",[]);},function(bI){return bu(bH,bI);}),new P.T({$:1,$0:{$:4,$0:"clickguest",$1:function(){return function(){return bG();};}},$1:bv}))));};g=b.CodeMirror=N.Class({},null,g);g.New=N.Ctor(function(){},g);h.translateClient=function(bm,bn,bo){var bp;bp=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.translate:796244877",[bm,bn]);h.callRPC(bp,bo);};h.declarationsClient=function(bm,bn,bo,bp){var bq;bq=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.declarations:-2117802712",[bm,bn,bo]);h.callRPC(bq,bp);};h.methodsClient=function(bm,bn,bo,bp){var bq;bq=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.methods:-34435681",[bm,bn,bo]);h.callRPC(bq,bp);};h.checkSourceClient=function(bm,bn){var bo;bo=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.checkSource:2013062947",[bm]);h.callRPC(bo,bn);};h.callRPC=function(bm,bn){_3.Start(_3.Delay(function(){return _3.Bind(bm,function(bo){bn(bo);return _3.Return(null);});}),null);};j=i.Button=N.Class({OnClick:function(bm){return j.New(this._class,this._type,this.style,this.text,bm,this.disabled);},Disabled:function(bm){var bn;bn=a.CIPHERPrototype.Val.fixit2(bm);return j.New(this._class,this._type,this.style,this.text,this.onClick,bn);},Text:function(bm){var bn;bn=a.CIPHERPrototype.Val.fixit2(bm);return j.New(this._class,this._type,this.style,bn,this.onClick,this.disabled);},Style:function(bm){var bn;bn=a.CIPHERPrototype.Val.fixit2(bm);return j.New(this._class,this._type,bn,this.text,this.onClick,this.disabled);},Type:function(bm){var bn;bn=a.CIPHERPrototype.Val.fixit2(bm);return j.New(this._class,bn,this.style,this.text,this.onClick,this.disabled);},Class:function(bm){return j.New(a.CIPHERPrototype.Val.fixit2(bm),this._type,this.style,this.text,this.onClick,this.disabled);},get_Render:function(){var bm,bn,bo;return _5.button([_5.type(this._type),_5["class"](this._class),_5.style(this.style),{$:5,$0:(bm=_1.Const(""),(bn=_4.toView(this.disabled),_2.DynamicPred("disabled",bn,bm)))},{$:5,$0:(bo=this.onClick,_6.Handler("click",bo))},{$:2,$0:this.text}]);}},null,j);j.New$1=function(bm){return j.New(a.CIPHERPrototype.Val.fixit2("btn"),a.CIPHERPrototype.Val.fixit2("button"),a.CIPHERPrototype.Val.fixit2(""),a.CIPHERPrototype.Val.fixit2(bm),function(){return function(){return null;};},a.CIPHERPrototype.Val.fixit2(false));};j.New=function(bm,bn,bo,bp,bq,br){return new j({_class:bm,_type:bn,style:bo,text:bp,onClick:bq,disabled:br});};i.showForm=function(bm){var bn,bo,bp,bq,br;return I.t((bn=(bo=P.T.Empty,new P.T({$:1,$0:{$:1,$0:"title",$1:"Test Form"},$1:bo})),(bp=P.ofArray([_0.Verbatim(bm),(bq=[_6.Create("src","/EPFileX/CIPHERSpaceLoadFiles.js")],_0.Element("script",bq,[])),i.dynamicSection()]),(br={$:0,$0:"body",$1:_0.Concat(bp)},new P.T({$:1,$0:br,$1:bn})))));};i.dynamicSection=function(){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC;bm=function(bD){return"\r\n            CIPHERSpaceLoadFileGlobalFileRef = null;\r\n            CIPHERSpaceLoadFile = function (filename, callback) {\r\n                if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\r\n                    var fileRef = null;\r\n                    var pre = document.querySelector('script[src=\"' + filename + '\"]')\r\n                    if (!pre) {\r\n                        fileRef = document.createElement('script')\r\n                        fileRef.setAttribute(\"type\", \"text/javascript\")\r\n                        fileRef.setAttribute(\"src\", filename)\r\n                    }\r\n                    else callback();\r\n                }\r\n                else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\r\n                    var pre = document.querySelector('script[src=\"' + filename + '\"]')\r\n                    if (!pre) {\r\n                        fileRef = document.createElement(\"link\")\r\n                        fileRef.setAttribute(\"rel\", \"stylesheet\")\r\n                        fileRef.setAttribute(\"type\", \"text/css\")\r\n                        fileRef.setAttribute(\"href\", filename)\r\n                    }\r\n                    else callback();\r\n                }\r\n                else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\r\n                    var pre = document.querySelector('script[src=\"' + filename + '\"]')\r\n                    if (!pre) {\r\n                        fileRef = document.createElement(\"link\")\r\n                        fileRef.setAttribute(\"rel\", \"import\")\r\n                        fileRef.setAttribute(\"type\", \"text/html\")\r\n                        fileRef.setAttribute(\"href\", filename)\r\n                    }\r\n                    else callback();\r\n                }\r\n                if (!!fileRef) {\r\n                    CIPHERSpaceLoadFileGlobalFileRef = fileRef;\r\n        \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\r\n                    document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\r\n                }\r\n            }\r\n            CIPHERSpaceLoadFiles = function (files, callback) {\r\n                var newCallback = callback\r\n                if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\r\n                    var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\r\n                    CIPHERSpaceLoadFileGlobalFileRef.onload = null;\r\n                    newCallback = function () {\r\n                        callback();\r\n                        oldCallback();\r\n                    }\r\n                }\r\n                var i = 0;\r\n                loadNext = function () {\r\n                    if (i < files.length) {\r\n                        var file = files[i];\r\n                        i++;\r\n                        CIPHERSpaceLoadFile(file, loadNext);\r\n                    }\r\n                    else newCallback();\r\n                };\r\n                loadNext();\r\n        \u0009}\r\n            CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \r\n        \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\r\n        \u0009\u0009var newCallback = callback\r\n        \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\r\n        \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\r\n        \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\r\n        \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\r\n        \u0009\u0009\u0009\u0009newCallback = function () {\r\n        \u0009\u0009\u0009\u0009\u0009oldCallback();\r\n        \u0009\u0009\u0009\u0009\u0009callback();\r\n        \u0009\u0009\u0009\u0009}\r\n        \u0009\u0009\u0009}\r\n        \u0009\u0009}\r\n        \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\r\n        \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\r\n        \u0009}\r\n        \r\n        CIPHERSpaceLoadFilesDoAfter(function() { \r\n          if (typeof IntelliFactory !=='undefined')\r\n            IntelliFactory.Runtime.Start();\r\n          for (key in window) { \r\n            if (key.startsWith(\"StartupCode$\")) \r\n              try { window[key].$cctor(); } catch (e) {} \r\n          } \r\n        })\r\n                         "+bD;};bn=function(bD,bE,bF){var bG;bG=function(bH,bI){var bJ,bK;bJ=bH==null?null:{$:1,$0:bm(bH.$0)};bJ==null?bE(bI):(bK=bJ.$0,(bD(bI))(bK));};return h.translateClient(bF,false,function(bH){return bG(bH[0],bH[1]);});};bo=Z.Create$1("");bp=Z.Create$1("");bq=Z.Create$1("");br=Z.Create$1("");bs=Z.Create$1("");bt=function(bD){var bE,bF;bE=(bF=bs.c,bF===null?bD:bF===""?bD:bD===null?bF:bD===""?bF:bF+"\n"+bD);Z.Set(bs,bE);};bu=function(){var bD,bE,bF,bG;bt("Running JavaScript...");try{bE=(bF=(bG=br.c,a["eval"](bG)),(bt("Done!"),a.String(bF)));}catch(bH){bE=(bt("Failed!"),a.String(bH));}bt(bE);};bv=function(){Z.Set(bs,"Compiling to JavaScript...");Z.Set(br,"");bn(function(){return function(bD){Z.Set(br,bD);return bu();};},bt,bq.c);};bw=_5.div([_5.style("height: 100%"),j.New$1("Eval F#").Style("vertical-align:top").OnClick(function(){return function(){return bv();};}).get_Render(),_5.someElt((bx=[_6.Create("placeholder","F#:"),_6.Create("title","Add F# code and invoke with Eval F#"),_6.Create("spellcheck","false")],_0.InputArea(bx,bq))),_5.someElt((by=[_6.Create("placeholder","HTML:"),_6.Create("title","Enter HTML tags and text"),_6.Create("spellcheck","false")],_0.InputArea(by,bo))),_5.someElt((bz=[_6.Create("placeholder","CSS:"),_6.Create("title","Test your CSS styles dynamically"),_6.Create("spellcheck","false")],_0.InputArea(bz,bp))),_5.someElt((bA=[_6.Create("placeholder","JavaScript:"),_6.Create("title","Add JS code and invoke with Eval JS"),_6.Create("spellcheck","false")],_0.InputArea(bA,br))),j.New$1("Eval JS").Style("vertical-align:top").OnClick(function(){return function(){Z.Set(bs,"");return bu();};}).get_Render(),_5.someElt((bB=[_6.Create("placeholder","Output:"),_6.Create("title","Messages")],_0.InputArea(bB,bs))),{$:4,$0:_4.tag(_0.Verbatim,_4.map2((bC=function(bD,bE,bF){return bD(_7.toSafe(bE)+"<style>"+_7.toSafe(bF)+"</style>");},(N.Curried3(bC))(a.id)),bo,bp))}]);return(_5.renderDoc())(bw);};n.HelperType={$:0};n.op_AmpGreater=function(bm,bn){return{$:2,$0:bn};};n.op_AmpGreater$1=function(bm,bn){return{$:1,$0:bn};};n.op_AmpGreater$2=function(bm,bn){return bn;};n.op_AmpGreater$3=function(bm,bn){return bn;};n.op_AmpGreater$4=function(bm,bn){return bn;};n.op_AmpGreater$5=function(bm,bn){return bn;};n.op_AmpGreater$6=function(bm,bn){return bn;};n.op_AmpGreater$7=function(bm,bn){return bn;};n.op_AmpGreater$8=function(bm,bn){return{$:0,$0:bn};};n.op_AmpGreater$9=function(bm,bn){return{$:0,$0:bn};};n.op_AmpGreater$10=function(bm,bn){return{$:0,$0:bn};};n.op_AmpGreater$11=function(bm,bn){return{$:0,$0:bn};};n.op_AmpGreater$12=function(bm,bn){return{$:0,$0:bn};};m.fixit=function(bm){return a.FSharpStationNS.HtmlNode.Val.fixit2(bm);};m.sink=function(bm,bn){var bo;bo=m.toView(m.fixit(bn));_1.Sink(bm,bo);};m.map4=function(bm,bn,bo,bp,bq){return m.map4V(bm,m.fixit(bn),m.fixit(bo),m.fixit(bp),m.fixit(bq));};m.map3=function(bm,bn,bo,bp){return m.map3V(bm,m.fixit(bn),m.fixit(bo),m.fixit(bp));};m.map2=function(bm,bn,bo){return((m.map2V(bm))(m.fixit(bn)))(m.fixit(bo));};m.map=function(bm,bn){return m.mapV(bm,m.fixit(bn));};m.bind=function(bm,bn){return m.bindV(bm,m.fixit(bn));};m.iter=function(bm,bn){m.iterV(bm,m.fixit(bn));};m.toDoc=function(bm){return _0.EmbedView(m.toView(m.fixit(bm)));};m.fixit2=function(bm){return typeof bm=="function"?{$:2,$0:bm}:typeof bm=="object"?typeof bm.$!="undefined"?bm:((typeof bm.Id=="number"?true:typeof bm.i=="number")?true:typeof(bm.RView=="function"))?{$:1,$0:bm}:typeof bm.docNode!="undefined"?{$:0,$0:bm}:{$:2,$0:bm}:{$:0,$0:bm};};m.attrV=function(bm,bn){var bo,bp,bq;return bn.$==2?(bo=bn.$0,_2.Dynamic(bm,bo)):bn.$==1?(bp=bn.$0,_2.Dynamic(bm,bp.RView())):(bq=bn.$0,_6.Create(bm,bq));};m.tagElt=function(bm,bn){var bo,bp,bq;return bn.$==2?(bo=bn.$0,_0.EmbedView(_1.Map(bm,bo))):bn.$==1?(bp=bn.$0,_0.EmbedView((bq=bp.RView(),_1.Map(bm,bq)))):bm(bn.$0);};m.tagDoc=function(bm,bn){var bo,bp,bq;return bn.$==2?(bo=bn.$0,_0.EmbedView(_1.Map(bm,bo))):bn.$==1?(bp=bn.$0,_0.EmbedView((bq=bp.RView(),_1.Map(bm,bq)))):bm(bn.$0);};m.map4V=function(bm,bn,bo,bp,bq){var br;br=m.map3V(bm,bn,bo,bp);return((m.map2V(function(bs){return function(bt){return bt(bs);};}))(bq))(br);};m.map3V=function(bm,bn,bo,bp){var bq;bq=((m.map2V(bm))(bn))(bo);return((m.map2V(function(br){return function(bs){return bs(br);};}))(bp))(bq);};m.map2V=function(bm){var bn,bo;bn=function(bp,bq,br){return(bp(br))(bq);};bo=function(bp){var bq,br,bs;bq=(br=(bs=function(bt,bu){return m.mapV(bt,bu);},function(bt){var bu;bu=bm(bt);return function(bv){return bs(bu,bv);};}),function(bt){return bn(br,bp,bt);});return function(bt){return m.bindV(bq,bt);};};return(N.Curried3(bn))(bo);};m.bindV=function(bm,bn){var bo,bp,bq,br;return bn.$==2?(bo=bn.$0,{$:2,$0:(bp=function(bs){return m.toView(bm(bs));},function(bs){return _1.Bind(bp,bs);}(bo))}):bn.$==1?(bq=bn.$0,{$:2,$0:(br=function(bs){return m.toView(bm(bs));},function(bs){return _1.Bind(br,bs);}(bq.RView()))}):bm(bn.$0);};m.toView=function(bm){return bm.$==2?bm.$0:bm.$==1?bm.$0.RView():_1.Const(bm.$0);};m.iterV=function(bm,bn){var bo;if(bn.$==2){bo=bn.$0;_1.Get(bm,bo);}else if(bn.$==1)bm(bn.$0.RVal());else bm(bn.$0);};m.mapV=function(bm,bn){var bo,bp,bq;return bn.$==2?(bo=bn.$0,{$:2,$0:_1.Map(bm,bo)}):bn.$==1?(bp=bn.$0,{$:2,$0:(bq=bp.RView(),_1.Map(bm,bq))}):{$:0,$0:bm(bn.$0)};};o=l.HtmlNode=N.Class({InsertChildren:function(bm){return l.mapHtmlElement(function(bn,bo){return new o({$:0,$0:bn,$1:W.append(bm,bo)});},this);},AddChildren:function(bm){return l.mapHtmlElement(function(bn,bo){return new o({$:0,$0:bn,$1:W.append(bo,bm)});},this);},Class:function(bm){var bn;bn=m.fixit(bm);return l.replaceAtt("class",this,bn);},get_toDoc:function(){var bm,bn,bo;return(this.$==1?true:this.$==3?true:false)?_0.Empty():(bn=l.chooseNode(this),(bo=_0.Empty(),bn==null?bo:bn.$0));}},null,o);o.HtmlEmpty=new o({$:3});l.createIFrame=function(bm){var bn,bo,bp,bq;bn=Z.Create$1(true);return l.div([l.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),l.iframe([l.style("position: absolute; width:100%; height:100%;"),l.frameborder("0"),(bo=_2.OnAfterRender(bm),new o({$:5,$0:bo})),(bp=_2.Handler("mouseleave",function(){return function(){return Z.Set(bn,true);};}),new o({$:5,$0:bp}))]),l.div([l.style("position: absolute;"),l.classIf("iframe-cover",m.map(a.id,bn)),(bq=_2.Handler("mouseenter",function(){return function(){var br;br=function(bs){if(!bs)Z.Set(bn,false);};return function(bs){_1.Get(br,bs);}(_9.get_MousePressed());};}),new o({$:5,$0:bq}))]),l.styleH([l.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};l.bindHElem=function(bm,bn){var bo,bp,bq,br;bo=(bp=(bq=l.renderDoc(),function(bs){return bq(bm(bs));}),(br=m.toView(m.fixit(bn)),_0.BindView(bp,br)));return new o({$:4,$0:bo});};l.composeDoc=function(bm,bn,bo){var bp,bq,br,bs,bt,bu;bp=(bq=m.toView(bo),(br=(bs=(bt=function(bv){return W.append(bn,bv);},function(bv){return bm(bt(bv));}),(bu=l.renderDoc(),function(bv){return bu(bs(bv));})),_0.BindView(br,bq)));return new o({$:4,$0:bp});};l.string2Styles=function(){E.$cctor();return E.string2Styles;};l.style2pairs=function(bm){var bn,bo,bp;bn=function(bq){return[_.Trim($.get(bq,0)),_.Trim($.get(bq,1))];};return function(bq){return $.map(bn,bq);}((bo=function(bq){return $.length(bq)===2;},function(bq){return $.filter(bo,bq);}((bp=function(bq){return _.SplitChars(bq,[58],0);},function(bq){return $.map(bp,bq);}(_.SplitChars(bm,[59],0))))));};l.xclass=function(bm){var bn,bo,bp,bq;bn=(bo=m.fixit(bm),bo.$==2?(bp=bo.$0,_2.DynamicClass("class_for_view_not_implemented",bp,function(br){return""!==br;})):bo.$==1?(bq=bo.$0,_2.DynamicClass(bq.RVal(),bq.RView(),function(br){return""!==br;})):_2.Class(bo.$0));return new o({$:5,$0:bn});};l.classIf=function(bm,bn){return l["class"](m.map(function(bo){return bo?bm:"";},m.fixit(bn)));};l.css=function(bm){return l.styleH([l.htmlText(bm)]);};l.style1=function(bm,bn){var bo;return l.style(m.map((bo=bm+":",function(bp){return bo+bp;}),bn));};l.style=function(bm){return l.htmlAttribute("style",bm);};l.draggable=function(bm){return l.htmlAttribute("draggable",bm);};l.spellcheck=function(bm){return l.htmlAttribute("spellcheck",bm);};l.frameborder=function(bm){return l.htmlAttribute("frameborder",bm);};l.Id=function(bm){return l.htmlAttribute("id",bm);};l.title=function(bm){return l.htmlAttribute("title",bm);};l.width=function(bm){return l.htmlAttribute("width",bm);};l.type=function(bm){return l.htmlAttribute("type",bm);};l["class"]=function(bm){return l.htmlAttribute("class",bm);};l.src=function(bm){return l.htmlAttribute("src",bm);};l.rel=function(bm){return l.htmlAttribute("rel",bm);};l.href=function(bm){return l.htmlAttribute("href",bm);};l.body=function(bm){return l.htmlElement("body",bm);};l.iframe=function(bm){return l.htmlElement("iframe",bm);};l.link=function(bm){return l.htmlElement("link",bm);};l.fieldset=function(bm){return l.htmlElement("fieldset",bm);};l.styleH=function(bm){return l.htmlElement("style",bm);};l.script=function(bm){return l.htmlElement("script",bm);};l.button=function(bm){return l.htmlElement("button",bm);};l.label=function(bm){return l.htmlElement("label",bm);};l.tbody=function(bm){return l.htmlElement("tbody",bm);};l.td=function(bm){return l.htmlElement("td",bm);};l.tr=function(bm){return l.htmlElement("tr",bm);};l.th=function(bm){return l.htmlElement("th",bm);};l.thead=function(bm){return l.htmlElement("thead",bm);};l.table=function(bm){return l.htmlElement("table",bm);};l.form=function(bm){return l.htmlElement("form",bm);};l.span=function(bm){return l.htmlElement("span",bm);};l.img=function(bm){return l.htmlElement("img",bm);};l.div=function(bm){return l.htmlElement("div",bm);};l.h6=function(bm){return l.htmlElement("h6",bm);};l.h5=function(bm){return l.htmlElement("h5",bm);};l.h4=function(bm){return l.htmlElement("h4",bm);};l.h3=function(bm){return l.htmlElement("h3",bm);};l.h2=function(bm){return l.htmlElement("h2",bm);};l.h1=function(bm){return l.htmlElement("h1",bm);};l.hr=function(bm){return l.htmlElement("hr",bm);};l.br=function(bm){return l.htmlElement("br",bm);};l.li=function(bm){return l.htmlElement("li",bm);};l.ul=function(bm){return l.htmlElement("ul",bm);};l.someElt=function(bm){return new o({$:4,$0:bm});};l.htmlText=function(bm){return new o({$:2,$0:m.fixit(bm)});};l.htmlAttribute=function(bm,bn){return new o({$:1,$0:bm,$1:m.fixit(bn)});};l.htmlElement=function(bm,bn){return new o({$:0,$0:bm,$1:bn});};l.textV=function(bm){return l.tag(_0.TextNode,bm);};l._placeholder=function(bm){return l.atr("placeholder",bm);};l._style=function(bm){return l.atr("style",bm);};l._type=function(bm){return l.atr("type",bm);};l._class=function(bm){return l.atr("class",bm);};l.tag=function(bm,bn){return m.tagDoc(bm,m.fixit(bn));};l.atr=function(bm,bn){return m.attrV(bm,m.fixit(bn));};l.renderDoc=function(){E.$cctor();return E.renderDoc;};l.replaceAtt=function(bm,bn,bo){return l.mapHtmlElement(function(bp,bq){return new o({$:0,$0:bp,$1:l.replaceAttribute(bm,bq,bo)});},bn);};l.replaceAttribute=function(bm,bn,bo){var bp;return new P.T({$:1,$0:new o({$:1,$0:bm,$1:bo}),$1:P.ofSeq((bp=function(bq){return bq.$==1?bq.$0===bm?false:true:true;},function(bq){return W.filter(bp,bq);}(bn)))});};l.getStyle=function(){E.$cctor();return E.getStyle;};l.getClass=function(){E.$cctor();return E.getClass;};l.getAttr=function(bm,bn){var bo;bo=bn.$==0?bn.$1:[];return(l.getAttrChildren(bm))(bo);};l.mapHtmlElement=function(bm,bn){return bn.$==0?bm(bn.$0,bn.$1):bn;};l.getAttrChildren=function(bm){var bn,bo,bp,bq;bn=(bo=function(br){var bs;return(br.$==1?br.$0===bm?(bs=[br.$0,br.$1],true):false:false)?{$:1,$0:bs[1]}:null;},function(br){return W.tryPick(bo,br);});bp=(bq={$:0,$0:""},function(br){return br==null?bq:br.$0;});return function(br){return bp(bn(br));};};l.chooseNode=function(bm){var bn,bo,bp,bq,br;return bm.$==0?(bn=bm.$0,(bo=bm.$1,{$:1,$0:(bp=l.getAttrsFromSeq(bo),(bq=W.choose(l.chooseNode,bo),_0.Element(bn,bp,bq)))})):bm.$==2?(br=bm.$0,{$:1,$0:m.tagDoc(_0.TextNode,br)}):bm.$==4?{$:1,$0:bm.$0}:null;};l.getAttrsFromSeq=function(bm){var bn,bo;bn=W.choose(l.chooseAttr,bm);bo=P.choose(a.id,P.ofArray([l.groupAttr("class"," ",bm),l.groupAttr("style","; ",bm)]));return W.append(bo,bn);};l.groupAttr=function(bm,bn,bo){var bp,bq,br,bs,bt;bp=(bq=function(bu){return l.chooseThisAttr(bm,bu);},function(bu){return W.choose(bq,bu);}(bo));return W.isEmpty(bp)?null:{$:1,$0:(br=(bs=(bt=function(bu,bv){return l.concat(bn,bu,bv);},(N.Curried3(m.map2))(function(bu){return function(bv){return bt(bu,bv);};})),function(bu){return W.reduce(function(bv,bw){return(bs(bv))(bw);},bu);}(bp)),m.attrV(bm,br))};};l.concat=function(bm,bn,bo){return bn+bm+bo;};l.chooseThisAttr=function(bm,bn){var bo;return(bn.$==1?bn.$0===bm?(bo=[bn.$0,bn.$1],true):false:false)?{$:1,$0:bo[1]}:null;};l.chooseAttr=function(bm){var bn,bo,bp,bq;return(bm.$==1?(bo=bm.$0,bo!=="class"?bo!=="style":false)?(bn=[bm.$0,bm.$1],true):false:false)?(bp=bn[0],(bq=bn[1],{$:1,$0:m.attrV(bp,bq)})):bm.$==5?{$:1,$0:bm.$0}:null;};l.callAddClass=function(){E.$cctor();return E.callAddClass;};l.removeClass=function(bm,bn){var bo,bp;bo=(bp=_.SplitChars(bm,[32],0),new bb.New$1(bc.OfSeq(bp))).Remove(bn);return _.concat(" ",bo);};l.addClass=function(bm,bn){var bo,bp,bq,br,bs;bo=(bp=(bq=_.SplitChars(bm,[32],0),new bb.New$1(bc.OfSeq(bq))),(br=(bs=_.SplitChars(bn,[32],0),new bb.New$1(bc.OfSeq(bs))),new bb.New$1(bc.OfSeq(W.append(br,bp)))));return _.concat(" ",bo);};q=p.Button=N.Class({OnClick:function(bm){return q.New(this._class,this._type,this.style,this.text,bm,this.disabled,this.id);},Disabled:function(bm){var bn;bn=m.fixit(bm);return q.New(this._class,this._type,this.style,this.text,this.onClick,bn,this.id);},Text:function(bm){var bn;bn=m.fixit(bm);return q.New(this._class,this._type,this.style,bn,this.onClick,this.disabled,this.id);},Style:function(bm){var bn;bn=m.fixit(bm);return q.New(this._class,this._type,bn,this.text,this.onClick,this.disabled,this.id);},Type:function(bm){var bn;bn=m.fixit(bm);return q.New(this._class,bn,this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(bm){return q.New(m.fixit(bm),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(bm){return q.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,bm);},get_Render:function(){var bm,bn,bo,bp,bq,br;return l.button([l.type(this._type),l["class"](this._class),l.Id(this.id),l.style(this.style),(bm=(bn=_1.Const(""),(bo=m.toView(this.disabled),_2.DynamicPred("disabled",bo,bn))),new o({$:5,$0:bm})),(bp=(bq=this.onClick,_6.Handler("click",bq)),new o({$:5,$0:bp})),(br=this.text,new o({$:2,$0:br}))]);}},null,q);q.New$1=function(bm){return q.New(m.fixit("btn"),m.fixit("button"),m.fixit(""),m.fixit(bm),function(){return function(){return null;};},m.fixit(false),"");};q.New=function(bm,bn,bo,bp,bq,br,bs){return new q({_class:bm,_type:bn,style:bo,text:bp,onClick:bq,disabled:br,id:bs});};r=p.Input=N.Class({get_Var:function(){return this["var"];},SetVar:function(bm){return r.New(this._type,this._class,this.style,this.placeholder,this.id,bm,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(bm){return r.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,bm,this.content,this.prefixAdded,true);},Prefix:function(bm){return r.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],bm,this.suffix,this.content,true,this.suffixAdded);},Content:function(bm){return r.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,bm,this.prefixAdded,this.suffixAdded);},Id:function(bm){return r.New(this._type,this._class,this.style,this.placeholder,bm,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(bm){var bn;bn=m.fixit(bm);return r.New(this._type,this._class,this.style,bn,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(bm){var bn;bn=m.fixit(bm);return r.New(this._type,this._class,bn,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(bm){return r.New(m.fixit(bm),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(bm){var bn;bn=m.fixit(bm);return r.New(this._type,bn,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var bm,bn;bm=this;bn=function(bo){return bo.$==2?"input-group-addon":"input-group-btn";};return l.div(P.ofSeq(W.delay(function(){return W.append((bm.prefixAdded?true:bm.suffixAdded)?[l["class"]("input-group")]:[],W.delay(function(){return W.append(bm.prefixAdded?[l.span([l["class"](bn(bm.prefix)),bm.prefix])]:[],W.delay(function(){var bo,bp,bq,br,bs,bt;return W.append([(bo=(bp=(bq=P.ofArray([l._type(bm._type),l._class(bm._class),l._style(bm.style),(br=bm.id,_6.Create("id",br)),l._placeholder(bm.placeholder)]),(bs=bm.content,W.append(bs,bq))),(bt=bm["var"],_0.Input(bp,bt))),new o({$:4,$0:bo}))],W.delay(function(){return bm.suffixAdded?[l.span([l["class"](bn(bm.suffix)),bm.suffix])]:[];}));}));}));})));}},null,r);r.New$1=function(bm){return r.New$2(Z.Create$1(bm));};r.New$2=function(bm){var bn,bo,bp,bq,br,bs,bt;bn=m.fixit("form-control");bo=m.fixit("text");bp=m.fixit("");bq=m.fixit("Enter text:");br=P.T.Empty;bs=o.HtmlEmpty;bt=o.HtmlEmpty;return r.New(bo,bn,bp,bq,"",bm,bs,bt,br,false,false);};r.New=function(bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw){return new r({_type:bm,_class:bn,style:bo,placeholder:bp,id:bq,"var":br,prefix:bs,suffix:bt,content:bu,prefixAdded:bv,suffixAdded:bw});};s=p.Hoverable=N.Class({Content:function(bm){return s.New(this.hover,bm);},get_Render:function(){var bm,bn,bo,bp,bq;bm=this;return l.div((bn=P.ofArray([l.classIf("hovering",this.hover),(bo=_2.Handler("mouseenter",function(){return function(){return bm.hover.set_RVal(true);};}),new o({$:5,$0:bo})),(bp=_2.Handler("mouseleave",function(){return function(){return bm.hover.set_RVal(false);};}),new o({$:5,$0:bp}))]),(bq=this.content,W.append(bq,bn))));}},null,s);s.get_Demo=function(){var bm;bm=Z.Create$1(false);return s.New(bm,P.ofArray([l.style("flex-flow: column;")]));};s.get_New=function(){var bm;bm=Z.Create$1(false);return s.New(bm,P.T.Empty);};s.New=function(bm,bn){return new s({hover:bm,content:bn});};t=p.TextArea=N.Class({get_Var:function(){return this["var"];},SetVar:function(bm){return t.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,bm);},Id:function(bm){return t.New(this._class,this.placeholder,this.title,this.spellcheck,bm,this["var"]);},Spellcheck:function(bm){return t.New(this._class,this.placeholder,this.title,bm,this.id,this["var"]);},Title:function(bm){var bn;bn=m.fixit(bm);return t.New(this._class,this.placeholder,bn,this.spellcheck,this.id,this["var"]);},Placeholder:function(bm){var bn;bn=m.fixit(bm);return t.New(this._class,bn,this.title,this.spellcheck,this.id,this["var"]);},Class:function(bm){return t.New(m.fixit(bm),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){var bm,bn,bo,bp;return l.span([l.someElt((bm=[l._class(this._class),(bn=this.id,_6.Create("id",bn)),(bo=m.map(function(bq){return bq?"true":"false";},this.spellcheck),l.atr("spellcheck",bo)),l.atr("title",this.title),l.atr("style","height: 100%;  width: 100%"),l._placeholder(this.placeholder)],(bp=this["var"],_0.InputArea(bm,bp))))]);}},null,t);t.New$1=function(bm){return t.New$2(Z.Create$1(bm));};t.New$2=function(bm){return t.New(m.fixit("form-control"),m.fixit("Enter text:"),m.fixit(""),m.fixit(false),"",bm);};t.New=function(bm,bn,bo,bp,bq,br){return new t({_class:bm,placeholder:bn,title:bo,spellcheck:bp,id:bq,"var":br});};u=p.CodeMirror=N.Class({get_Var:function(){return this["var"];},OnChange:function(bm){return u.New(this._class,this.id,this["var"],bm);},SetVar:function(bm){return u.New(this._class,this.id,bm,this.onChange);},Id:function(bm){return u.New(this._class,bm,this["var"],this.onChange);},Class:function(bm){return u.New(m.fixit(bm),this.id,this["var"],this.onChange);},get_Render:function(){var bm,bn,bo,bp;bm=this;return l.div([l["class"](this._class),(bn=(bo=this.id,_6.Create("id",bo)),new o({$:5,$0:bn})),l.style("position: relative; height: 300px"),l.div([l.style("height: 100%; width: 100%; position: absolute;"),(bp=_2.OnAfterRender(function(bq){var br;br=p.codeMirrorIncludes();a.CIPHERSpaceLoadFiles(br,function(){var bs,bt;bs=a.CodeMirror(bq,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,extraKeys:{Tab:function(bu){bu.replaceSelection("    ","end");},F11:function(bu){bu.setOption("fullScreen",!bu.getOption("fullScreen"));}}});bs.on("change",function(){var bu;bu=bs.getValue();bm["var"].RVal()!==bu?(bm["var"].set_RVal(bu),bm.onChange()):void 0;});bt=function(bu){if(bs.getValue()!==bu){bs.setValue(bu);bs.getDoc().clearHistory();}};(function(bu){_1.Sink(bt,bu);}(bm["var"].RView()));});}),new o({$:5,$0:bp}))]),l.link([l.href("/EPFileX/codemirror/content/editor.css"),l.type("text/css"),l.rel("stylesheet")]),l.link([l.href("/EPFileX/codemirror/content/codemirror.css"),l.type("text/css"),l.rel("stylesheet")]),l.link([l.href("/EPFileX/codemirror/content/theme/rubyblue.css"),l.type("text/css"),l.rel("stylesheet")]),l.link([l.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),l.type("text/css"),l.rel("stylesheet")]),l.link([l.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),l.type("text/css"),l.rel("stylesheet")]),l.css(".CodeMirror { height: 100% }")]);}},null,u);u.New$1=function(bm){return u.New$2(Z.Create$1(bm));};u.New$2=function(bm){return u.New(m.fixit(""),"",bm,function(){});};u.New=function(bm,bn,bo,bp){return new u({_class:bm,id:bn,"var":bo,onChange:bp});};v=p.SplitterBar=N.Class({Children:function(bm){return v.New(this.value,this.min,this.max,this.vertical,this.node,bm,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return v.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return v.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){var bm;bm=m.fixit(false);return v.New(this.value,this.min,this.max,bm,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){var bm;bm=m.fixit(true);return v.New(this.value,this.min,this.max,bm,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(bm){var bn,bo;bn=(bo=m.fixit(bm),m.map(function(bp){return!bp;},bo));return v.New(this.value,this.min,this.max,bn,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(bm){var bn;bn=m.fixit(bm);return v.New(this.value,this.min,this.max,bn,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(bm){var bn;bn=m.fixit(bm);return v.New(this.value,this.min,bn,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(bm){var bn;bn=m.fixit(bm);return v.New(this.value,bn,this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(bm){return v.New(this.value,this.min,this.max,this.vertical,bm,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(bm){this.value.set_RVal(bm);return this;},get_Render:function(){var bm,bn,bo,bp,bq,br,bs;function bt(){if(bm.dragging){bm.dragging=false;a.window.removeEventListener("mousemove",bp,false);a.window.removeEventListener("mouseup",bt,false);}}bm=this;bn=function(bu){var bv,bw;return bm.startVer?(bv=bu.clientX,a.Number(bv)):(bw=bu.clientY,a.Number(bw));};bo=function(){var bu;bu=bm.domElem;return(bu!=null?bu.$==1:false)?bm.startVer?bm.after?bu.$0.parentElement.getBoundingClientRect().width:-bu.$0.parentElement.getBoundingClientRect().width:bm.after?bu.$0.parentElement.getBoundingClientRect().height:-bu.$0.parentElement.getBoundingClientRect().height:100;};bp=function(bu){bm.value.set_RVal((bn(bu)-bm.start)*100/bm.size+bm.startP);};bq=function(bu,bv){var bw;return!bm.dragging?(bw=function(){},function(bx){m.iter(bw,bx);}(m.map2(function(bx){return function(by){bm.dragging=true;bm.startVer=by;bm.startP=bx;bm.start=bn(bv);bm.size=bo();a.window.addEventListener("mousemove",bp,false);a.window.addEventListener("mouseup",bt,false);return bv.preventDefault();};},bm.get_GetValue(),bm.vertical))):null;};return this.node.AddChildren([l["class"](m.map(function(bu){return bu?"Vertical":"Horizontal";},this.vertical)),(br=_2.Handler("mousedown",function(bu){return function(bv){return bq(bu,bv);};}),new o({$:5,$0:br})),(bs=_2.OnAfterRender(function(bu){bm.domElem={$:1,$0:bu};}),new o({$:5,$0:bs})),l.css("\r\n                      .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\r\n                      .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\r\n                  ")]).AddChildren(this.children);},get_GetValue:function(){var bm,bn,bo,bp;bm=(bn=this.value,(bo=this.min,m.map2(function(bq){return function(br){return bd.Max(bq,br);};},bo,bn)));bp=this.max;return m.map2(function(bq){return function(br){return bd.Min(bq,br);};},bp,bm);},get_Var:function(){return this.value;}},null,v);v.New$1=function(bm){return v.New$2(Z.Create$1(bm));};v.New$2=function(bm){return v.New(bm,m.fixit(10),m.fixit(75),m.fixit(true),l.div([l["class"]("Splitter")]),P.T.Empty,true,false,true,0,0,0,null);};v.New=function(bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by){return new v({value:bm,min:bn,max:bo,vertical:bp,node:bq,children:br,after:bs,dragging:bt,startVer:bu,startP:bv,start:bw,size:bx,domElem:by});};w=p.Grid=N.Class({get_Render:function(){return l.div(this.GridTemplate());},GridTemplate:function(){var bm;bm=this;return P.ofSeq(W.delay(function(){var bn;return W.append((bn=function(bo,bp){var bq,br;return(bo!=null?bo.$==1:false)?(bq=bo.$0,bp.AddChildren([l.style((br=function(bs,bt){return bs("grid-area: "+_7.toSafe(bt));},(function(bs){return function(bt){return br(bs,bt);};}(a.id))(bq)))])):bp;},function(bo){return W.map(function(bp){return bn(bp[0],bp[1]);},bo);}(bm.content)),W.delay(function(){var bo;return W.append((bo=function(bp,bq){var br,bs;return bq.$==2?(br=bq.$0,{$:1,$0:br.get_Render().InsertChildren([l.style1("grid-column",a.String(bp+(br.after?2:1))),l.style1("grid-row",(bs=function(bt,bu){return bt("1 / "+a.String(bu));},(function(bt){return function(bu){return bs(bt,bu);};}(a.id))($.length(bm.rows)+1)))])}):bq.$==1?null:null;},function(bp){return W.choose(function(bq){return bo(bq[0],bq[1]);},bp);}(W.indexed(bm.cols))),W.delay(function(){var bp;return W.append((bp=function(bq,br){var bs,bt;return br.$==2?(bs=br.$0,{$:1,$0:bs.get_Render().InsertChildren([l.style1("grid-row",a.String(bq+(bs.after?2:1))),l.style1("grid-column",(bt=function(bu,bv){return bu("1 / "+a.String(bv));},(function(bu){return function(bv){return bt(bu,bv);};}(a.id))($.length(bm.cols)+1)))])}):br.$==1?null:null;},function(bq){return W.choose(function(br){return bp(br[0],br[1]);},bq);}(W.indexed(bm.rows))),W.delay(function(){return W.append(bm.styles(),W.delay(function(){var bq;return W.append([l.style(((bq=function(br,bs,bt){return br("display: grid; grid-gap: "+bs.toFixed(6)+"px; padding: "+bt.toFixed(6)+"px; box-sizing: border-box");},(N.Curried3(bq))(a.id))(bm.gap))(bm.padding))],W.delay(function(){var br;return[(br=_2.OnAfterRender(function(bs){var bt;function bu(){var bv,bw,bx,by;bv=bm.width;bw=bs.getBoundingClientRect().width;Z.Set(bv,bw);bx=bm.height;by=bs.getBoundingClientRect().height;Z.Set(bx,by);}bt=a.setTimeout(bu,60);(new a.ResizeObserver(bu)).observe(bs);}),new o({$:5,$0:br}))];}));}));}));}));}));}));},styles:function(){var bm,bn;return P.ofArray([(bm=this.style(this.cols,this.width),l.style1("grid-template-columns",bm)),(bn=this.style(this.rows,this.height),l.style1("grid-template-rows",bn))]);},style:function(bm,bn){var bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA;bo=this;return $.length(bm)===0?{$:0,$0:"100%"}:(bp=(bq=function(bB,bC){return function(bD){var bE,bF,bG;return bD.$==2?(bE=bD.$0,[m.map2(function(bH){return function(bI){return bH+bI;};},bE.get_GetValue(),bB),bC]):bD.$==1?bD.$0.$==1?(bF=bD.$0.$0,[bB,m.map2(function(bH){return function(bI){return bH+bI;};},bF,bC)]):(bG=bD.$0.$0,[m.map2(function(bH){return function(bI){return bH+bI;};},bG,bB),bC]):[bB,bC];};},(br={$:0,$0:0},(bs={$:0,$0:0},function(bB){return W.fold(function(bC,bD){return(function(bE){return bq(bE[0],bE[1]);}(bC))(bD);},[br,bs],bB);}))(bm)),(bt=bp[1],(bu=bp[0],(bv=m.map2(function(bB){return function(bC){var bD;return(bC-bo.padding*2-bo.gap*((bD=$.length(bm),a.Number(bD))-1)-bB)/(bC-bo.padding*2);};},bt,bn),(bw=m.map(function(bB){return 100-bB;},bu),(bx=function(bB){return m.map2(function(bC){return function(bD){var bE,bF;bE=bd.Max(0,bC*bD);bF=function(bG,bH){return bG(bH.toFixed(6)+"%");};return(function(bG){return function(bH){return bF(bG,bH);};}(a.id))(bE);};},bv,bB);},(by=function(bB){return m.map(function(bC){var bD,bE;bD=bd.Max(0,bC);bE=function(bF,bG){return bF(bG.toFixed(6)+"px");};return(function(bF){return function(bG){return bE(bF,bG);};}(a.id))(bD);},bB);},(bz=function(bB){return _.concat(" ",bB);},function(bB){return m.map(bz,bB);}((bA=function(bB,bC){var bD;bD=function(bE,bF){return new P.T({$:1,$0:bF,$1:bE});};return function(bE){return m.map2(function(bF){return function(bG){return bD(bF,bG);};},bC,bE);}(bB.$==2?bx(bB.$0.get_GetValue()):bB.$==1?bB.$0.$==1?by(bB.$0.$0):bx(bB.$0.$0):bx(bw));},function(bB){return W.foldBack(bA,bm,bB);}({$:0,$0:P.T.Empty})))))))))));},Children:function(bm){return this.changeSplitter(function(bn){return bn.Children(bm);});},Min:function(bm){return this.changeSplitter(function(bn){return bn.Min(bm);});},Max:function(bm){return this.changeSplitter(function(bn){return bn.Max(bm);});},get_Before:function(){return this.changeSplitter(function(bm){return bm.get_Before();});},changeSplitter:function(bm){var bn,bo;bn=this;bo=function(bp,bq){var br,bs,bt,bu;if(bq){br=$.get(bn.cols,bp);br.$==2?(bs=br.$0,$.set(bn.cols,bp,{$:2,$0:bm(bs)})):void 0;}else{bt=$.get(bn.rows,bp);bt.$==2?(bu=bt.$0,$.set(bn.rows,bp,{$:2,$0:bm(bu)})):void 0;}};(function(bp){if(bp==null);else bo.apply(null,bp.$0);}(this.lastSplitter));return this;},Gap:function(bm){return w.New(this.padding,bm,this.content,this.cols,this.rows,this.width,this.height,this.lastSplitter);},Padding:function(bm){return w.New(bm,this.gap,this.content,this.cols,this.rows,this.width,this.height,this.lastSplitter);},Content:function(bm){var bn;bn=this.content.concat([[null,bm]]);return w.New(this.padding,this.gap,bn,this.cols,this.rows,this.width,this.height,this.lastSplitter);},Content$1:function(bm,bn){var bo;bo=this.content.concat([[{$:1,$0:bm},bn]]);return w.New(this.padding,this.gap,bo,this.cols,this.rows,this.width,this.height,this.lastSplitter);},RowAuto:function(bm){var bn;bn=this.rows.concat([{$:0,$0:v.New$1(bm).Horizontal()}]);return w.New(this.padding,this.gap,this.content,this.cols,bn,this.width,this.height,this.lastSplitter);},RowVariable:function(bm){return this.NewSplitter(bm,false);},RowVariable$1:function(bm){var bn;bn=this.rows.concat([{$:2,$0:bm}]);return w.New(this.padding,this.gap,this.content,this.cols,bn,this.width,this.height,this.lastSplitter);},RowFixed:function(bm){var bn;bn=this.rows.concat([{$:1,$0:{$:0,$0:m.fixit(bm)}}]);return w.New(this.padding,this.gap,this.content,this.cols,bn,this.width,this.height,this.lastSplitter);},RowFixedPx:function(bm){var bn;bn=this.rows.concat([{$:1,$0:{$:1,$0:m.fixit(bm)}}]);return w.New(this.padding,this.gap,this.content,this.cols,bn,this.width,this.height,this.lastSplitter);},ColAuto:function(bm){var bn;bn=this.cols.concat([{$:0,$0:v.New$1(bm)}]);return w.New(this.padding,this.gap,this.content,bn,this.rows,this.width,this.height,this.lastSplitter);},ColVariable:function(bm){return this.NewSplitter(bm,true);},ColVariable$1:function(bm){var bn;bn=this.cols.concat([{$:2,$0:bm}]);return w.New(this.padding,this.gap,this.content,bn,this.rows,this.width,this.height,this.lastSplitter);},ColFixed:function(bm){var bn;bn=this.cols.concat([{$:1,$0:{$:0,$0:m.fixit(bm)}}]);return w.New(this.padding,this.gap,this.content,bn,this.rows,this.width,this.height,this.lastSplitter);},ColFixedPx:function(bm){var bn;bn=this.cols.concat([{$:1,$0:{$:1,$0:m.fixit(bm)}}]);return w.New(this.padding,this.gap,this.content,bn,this.rows,this.width,this.height,this.lastSplitter);},NewSplitter:function(bm,bn){var bo,bp,bq,br,bs;bo=v.New$1(bm);return bn?(bp={$:1,$0:[$.length(this.cols),bn]},(bq=this.cols.concat([{$:2,$0:bo}]),w.New(this.padding,this.gap,this.content,bq,this.rows,this.width,this.height,bp))):(br={$:1,$0:[$.length(this.rows),bn]},(bs=this.rows.concat([{$:2,$0:bo.Horizontal()}]),w.New(this.padding,this.gap,this.content,this.cols,bs,this.width,this.height,br)));}},null,w);w.get_New=function(){return w.New(9,9,[],[],[],Z.Create$1(1000),Z.Create$1(100),null);};w.New=function(bm,bn,bo,bp,bq,br,bs,bt){return new w({padding:bm,gap:bn,content:bo,cols:bp,rows:bq,width:br,height:bs,lastSplitter:bt});};p.codeMirrorIncludes=function(){E.$cctor();return E.codeMirrorIncludes;};y.evaluate=function(bm,bn){var bo;bo=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.evaluate:-1485533303",[bn]);y.callRPC(bo,bm);};y.translate=function(bm,bn,bo){var bp;bp=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.translate:796244877",[bo,bn]);y.callRPC(bp,bm);};y.declarations=function(bm,bn,bo,bp){var bq;bq=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.declarations:-2117802712",[bp,bn,bo]);y.callRPC(bq,bm);};y.methods=function(bm,bn,bo,bp){var bq;bq=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.methods:-34435681",[bp,bn,bo]);y.callRPC(bq,bm);};y.checkSource=function(bm,bn){var bo;bo=(new V.New()).Async("ZafirTranspiler:CIPHERPrototype.Editor.checkSource:2013062947",[bn]);y.callRPC(bo,bm);};y.callRPC=function(bm,bn){_3.StartWithContinuations(bm,bn,function(bo){a.alert(a.String(bo));},function(bo){a.alert(a.String(bo));},null);};z=x.RunNode=N.Class({createBaseNode:function(){var bm,bn;bm=a.document.createElement("div");bm.setAttribute("id",this.nodeName);bn=a.document.body.appendChild(bm);return bm;},RunHtmlPlusFree:function(bm){var bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB;bn=Z.Create$1("");bo=Z.Create$1("");bp=Z.Create$1("");bq=Z.Create$1("");br=Z.Create$1("");bs=function(bC){var bD,bE;bD=(bE=br.c,bE===null?bC:bE===""?bC:bC===null?bE:bC===""?bE:bE+"\n"+bC);Z.Set(br,bD);};bt=function(){var bC,bD,bE,bF;bs("Running JavaScript...");try{bD=(bE=(bF=bq.c,a["eval"](bF)),(bs("Done!"),a.String(bE)));}catch(bG){bD=(bs("Failed!"),a.String(bG));}bs(bD);};bu=function(){Z.Set(br,"Compiling to JavaScript...");Z.Set(bq,"");x.compile(function(bC,bD){Z.Set(bq,bD);return bt();},bs,bp.c);};this.RunHtml(l.div([l.style("height: 100%"),bm,q.New$1("Eval F#").Style("vertical-align:top").OnClick(function(){return function(){return bu();};}).get_Render(),l.someElt((bv=[_6.Create("placeholder","F#:"),_6.Create("title","Add F# code and invoke with Eval F#")],_0.InputArea(bv,bp))),l.someElt((bw=[_6.Create("placeholder","HTML:"),_6.Create("title","Enter HTML tags and text")],_0.InputArea(bw,bn))),l.someElt((bx=[_6.Create("placeholder","CSS:"),_6.Create("title","Test your CSS styles dynamically")],_0.InputArea(bx,bo))),l.someElt((by=[_6.Create("placeholder","JavaScript:"),_6.Create("title","Add JS code and invoke with Eval JS")],_0.InputArea(by,bq))),q.New$1("Eval JS").Style("vertical-align:top").OnClick(function(){return function(){Z.Set(br,"");return bt();};}).get_Render(),l.someElt((bz=[_6.Create("placeholder","Output:"),_6.Create("title","Messages")],_0.InputArea(bz,br))),(bA=l.tag(_0.Verbatim,m.map2((bB=function(bC,bD,bE){return bC(_7.toSafe(bD)+"<style>"+_7.toSafe(bE)+"</style>");},(N.Curried3(bB))(a.id)),bn,bo)),new o({$:4,$0:bA}))]));},RunHtml:function(bm){this.RunDoc((l.renderDoc())(bm));},RunDoc:function(bm){var bn;bn=this.get_RunNode();(function(bo){_0.Run(bn,bo);}(bm));},get_AddBootstrap:function(){var bm,bn;bm=a.document.createElement("div");bm.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\r\n                  <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\r\n                  <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\r\n                  <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\r\n                 ";bn=this.runNode.appendChild(bm);return this;},get_RunNode:function(){return this.runNode;}},null,z);z.New=N.Ctor(function(bm){z.New$1.call(this,"TestNode",{$:1,$0:bd.DefaultArg(bm,true)});},z);z.New$1=N.Ctor(function(bm,bn){var bo,bp,bq,br,bs;this.nodeName=bm;bo=(bp=a.document.getElementById(this.nodeName),be.Equals(bp,null)?this.createBaseNode():bp);this.runNode=(bq=bo.shadowRoot,be.Equals(bq,null)?(br=a.document.createElement("div"),(bs=bo.attachShadow({mode:"open"}).appendChild(br),br.style="height: 100%; width: 100%;",br)):bq.firstChild);bd.DefaultArg(bn,true)?this.runNode.innerHTML="":void 0;},z);x.compile=function(bm,bn,bo){var bp;bp=function(bq,br){var bs,bt;bs=bq==null?null:(bt=bq.$0,{$:1,$0:x.completeJS(bt)});bs==null?bn(br):bm(br,bs.$0);};(((N.Curried3(y.translate))(function(bq){return bp(bq[0],bq[1]);}))(false))(bo);};x.completeJS=function(bm){return"\r\n          CIPHERSpaceLoadFileGlobalFileRef = null;\r\n          CIPHERSpaceLoadFile = function (filename, callback) {\r\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\r\n                  var fileRef = null;\r\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\r\n                  if (!pre) {\r\n                      fileRef = document.createElement('script')\r\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\r\n                      fileRef.setAttribute(\"src\", filename)\r\n                  }\r\n                  else callback();\r\n              }\r\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\r\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\r\n                  if (!pre) {\r\n                      fileRef = document.createElement(\"link\")\r\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\r\n                      fileRef.setAttribute(\"type\", \"text/css\")\r\n                      fileRef.setAttribute(\"href\", filename)\r\n                  }\r\n                  else callback();\r\n              }\r\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\r\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\r\n                  if (!pre) {\r\n                      fileRef = document.createElement(\"link\")\r\n                      fileRef.setAttribute(\"rel\", \"import\")\r\n                      fileRef.setAttribute(\"type\", \"text/html\")\r\n                      fileRef.setAttribute(\"href\", filename)\r\n                  }\r\n                  else callback();\r\n              }\r\n              if (!!fileRef) {\r\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\r\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\r\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\r\n              }\r\n          }\r\n          CIPHERSpaceLoadFiles = function (files, callback) {\r\n              var newCallback = callback\r\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\r\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\r\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\r\n                  newCallback = function () {\r\n                      callback();\r\n                      oldCallback();\r\n                  }\r\n              }\r\n              var i = 0;\r\n              loadNext = function () {\r\n                  if (i < files.length) {\r\n                      var file = files[i];\r\n                      i++;\r\n                      CIPHERSpaceLoadFile(file, loadNext);\r\n                  }\r\n                  else newCallback();\r\n              };\r\n              loadNext();\r\n      \u0009}\r\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \r\n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\r\n      \u0009\u0009var newCallback = callback\r\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\r\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\r\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\r\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\r\n      \u0009\u0009\u0009\u0009newCallback = function () {\r\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\r\n      \u0009\u0009\u0009\u0009\u0009callback();\r\n      \u0009\u0009\u0009\u0009}\r\n      \u0009\u0009\u0009}\r\n      \u0009\u0009}\r\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\r\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\r\n      \u0009}\r\n      \r\n      CIPHERSpaceLoadFilesDoAfter(function() { \r\n        if (typeof IntelliFactory !=='undefined')\r\n          IntelliFactory.Runtime.Start();\r\n        for (key in window) { \r\n          if (key.startsWith(\"StartupCode$\")) \r\n            try { window[key].$cctor(); } catch (e) {} \r\n        } \r\n      })\r\n                       "+bm;};B.get_New=function(){return{$:0,$0:bf.NewGuid()};};C=A.CodeSnippet=N.Class({IsDescendantOf:function(bm){function bn(bo){var bp,bq,br,bs;bp=bo.parent;return(bp!=null?bp.$==1:false)?(bq=bp.$0,be.Equals(bq,bm)?true:(br=(bs=C.FetchO(bq),bs==null?null:{$:1,$0:bn(bs.$0)}),br==null?false:br.$0)):false;}return bn(this);},Code:function(){var bm,bn,bo,bp;bm=$.ofSeq(this.UniquePredecesors());bn=(bo=function(bq){return bq.ContentIndented();},function(bq){return W.map(bo,bq);}((bp=function(bq){var br;br=bq.id;return function(bs){return $.contains(br,bs);}(bm);},function(bq){return W.filter(bp,bq);}((A.codeSnippets())["var"].RVal()))));return _.concat("\n",bn);},ContentIndented:function(){var bm,bn,bo,bp,bq,br,bs;bm=this.Level();bn=(bm===0?true:bm===1)?this.content:(bo=(bp=function(bt){return _.StartsWith(bt,"#")?bt:_.replicate(bm,"  ")+bt;},function(bt){return $.map(bp,bt);}((bq=this.content,_.SplitChars(bq,[10],0)))),_.concat("\n",bo));return(((br=function(bt,bu,bv,bw){return bt("# 1 @\""+_7.toSafe(bu)+" "+_7.toSafe(bv)+"\"\n"+_7.toSafe(bw));},(N.Curried(br,4))(a.id))((bm===0?true:bm===1)?"":(bs=function(bt,bu){return bt("("+a.String(bu)+")");},(function(bt){return function(bu){return bs(bt,bu);};}(a.id))(bm*2))))(this.get_NameSanitized()))(bn);},get_NameSanitized:function(){var bm,bn;bm=[34,60,62,124,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,58,42,63,92,47];return"F# "+(bn=function(bo){return!$.contains(bo,bm);},function(bo){return _.Filter(bn,bo);}(this.get_Name()))+".fsx";},Level:function(){function bm(bn,bo){var bp,bq,br;bp=(bq=function(bs){return bm(bs,bo+1);},function(bs){return bs==null?null:{$:1,$0:bq(bs.$0)};}((br=bn.parent,br==null?null:C.FetchO(br.$0))));return bp==null?bo:bp.$0;}return bm(this,0);},UniquePredecesors:function(){function bm(bn,bo){var bp,bq,br,bs;return bn.$==1?(bp=bn.$1,(bq=bn.$0,(br=P.collect(a.id,P.ofArray([bp,(bs=function(bt){var bu,bv;bu=bg.toList(bt.parent);bv=bt.predecessors;return P.append(bu,bv);},function(bt){return P.collect(bs,bt);}(C.FetchL(bq)))])),bm(br,W.contains(bq,bo)?bo:new P.T({$:1,$0:bq,$1:bo}))))):bo;}return bm(P.ofArray([this.id]),P.T.Empty);},get_Name:function(){return A.snippetName(this.name,this.content);}},null,C);C.New$1=function(bm,bn,bo,bp,bq,br){var bs,bt,bu,bv,bw,bx;bs=C.New(bn,br,bo,bp,bq,B.get_New(),true);bt=A.codeSnippets().get_Length();bt===0?A.codeSnippets().Append(bs):bm===0?(bu=W.append([bs],(A.codeSnippets())["var"].RVal()),A.codeSnippets().Set(bu)):bm<bt?(bv=(bw=(bx=$.ofSeq((A.codeSnippets())["var"].RVal()),$.splitAt(bm,bx)),bw[0].concat([bs].concat(bw[1]))),A.codeSnippets().Set(bv)):A.codeSnippets().Append(bs);return bs;};C.New$2=function(bm,bn,bo,bp,bq){return C.New$1(A.codeSnippets().get_Length(),bm,bn,bo,bp,bq);};C.New$3=function(bm){return C.New$2("",null,P.T.Empty,P.T.Empty,bm);};C.New$4=function(bm,bn){return C.New$2("",{$:1,$0:bm},P.T.Empty,P.T.Empty,bn);};C.New$5=function(bm,bn,bo){return C.New$2("",{$:1,$0:bm},bn,P.T.Empty,bo);};C.New$6=function(bm,bn){return C.New$2("",null,bm,P.T.Empty,bn);};C.FetchL=function(bm){return bg.toList(C.FetchO(bm));};C.FetchO=function(bm){return A.codeSnippets().TryFindByKey(bm);};C.PickIO=function(bm){var bn;bn=function(bo,bp){return be.Equals(bp.id,bm);};return function(bo){return A.tryPickI(function(bp){return bn(bp[0],bp[1]);},bo);}((A.codeSnippets())["var"].RVal());};C.New=function(bm,bn,bo,bp,bq,br,bs){return new C({name:bm,content:bn,parent:bo,predecessors:bp,companions:bq,id:br,expanded:bs});};D.NewBrowser={$:3};D.Tab={$:2};D.Right={$:1};D.Below={$:0};A.grid=function(){E.$cctor();return E.grid;};A.addNodeById=function(bm,bn){var bo,bp,bq,br;bo=(bp=a.document.getElementById(bm),be.Equals(bp,null)?(bq=a.document.createElement("div"),a.document.body.appendChild(bq)):bp);(br=bn.AddChildren([l.Id(bm)]),(l.renderDoc())(br)).ReplaceInDom(bo);};A.pageStyle=function(){E.$cctor();return E.pageStyle;};A.splitterMain2=function(){E.$cctor();return E.splitterMain2;};A.splitterMain1=function(){E.$cctor();return E.splitterMain1;};A.styleSplit=function(){E.$cctor();return E.styleSplit;};A.style2=function(){E.$cctor();return E.style2;};A.style1=function(){E.$cctor();return E.style1;};A.verticalSplit=function(){E.$cctor();return E.verticalSplit;};A.horizontalSplit=function(){E.$cctor();return E.horizontalSplit;};A.style2v=function(){E.$cctor();return E.style2v;};A.style1v=function(){E.$cctor();return E.style1v;};A.style2h=function(){E.$cctor();return E.style2h;};A.style1h=function(){E.$cctor();return E.style1h;};A.CodeEditor=function(){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG;return w.get_New().ColVariable$1(A.spl1()).ColVariable(50).Max(m.map(function(bH){return 92-bH;},A.spl1().get_GetValue())).Children([l.style("grid-row: 3 / 5")]).ColAuto(0).RowFixedPx(34).RowAuto(0).RowVariable(17).Children([l.style("grid-column: 2 / 4")]).get_Before().RowFixedPx(80).Padding(1).Content(l.style(" \r\n                          grid-template-areas:\r\n                              'header0 header   header'\r\n                              'sidebar content1 content1'\r\n                              'sidebar content2 content3'\r\n                              'footer  footer   footer2';\r\n                          color      : #333;\r\n                          height     : 100%;\r\n                          font-size  : small;\r\n                          font-family: monospace;\r\n                          line-height: 1.2;\r\n                      ")).Content$1("sidebar",l.div([l.style("overflow: auto"),(bm=(bn=a.id,function(bH){return _0.BindView(bn,bH);}((bo=(bp=A.codeSnippets().v,(bq=(A.codeSnippets())["var"].RVal(),(br=A.refresh().v,_1.SnapshotOn(bq,br,bp)))),_1.Map(A.listEntries,bo)))),new o({$:4,$0:bm}))])).Content$1("header",r.New$2((bs=A.currentCodeSnippetId(),(bt=m.toView(m.fixit(bs)),(bu=Z.Create$1(null),(bv=[null],(bw=bu.v,_1.Sink(function(bH){var bI,bJ;bI=bv[0];bI==null?void 0:(bJ=bI.$0,!be.Equals(bJ.RVal(),bH)?bJ.set_RVal(bH):void 0);},bw),bx=_1.Bind(function(bH){var bI,bJ;bI=A.curSnippetNameOf(bH);bv[0]={$:1,$0:bI};bJ=bI.RVal();Z.Set(bu,bJ);return bI.RView();},bt),_1.Sink(function(bH){Z.Set(bu,bH);},bx),bu)))))).Prefix(l.htmlText("name:")).get_Render()).Content$1("content1",u.New$2((by=A.currentCodeSnippetId(),(bz=m.toView(m.fixit(by)),(bA=Z.Create$1(null),(bB=[null],(bC=bA.v,_1.Sink(function(bH){var bI,bJ;bI=bB[0];bI==null?void 0:(bJ=bI.$0,!be.Equals(bJ.RVal(),bH)?bJ.set_RVal(bH):void 0);},bC),bD=_1.Bind(function(bH){var bI,bJ;bI=A.curSnippetCodeOf(bH);bB[0]={$:1,$0:bI};bJ=bI.RVal();Z.Set(bA,bJ);return bI.RView();},bz),_1.Sink(function(bH){Z.Set(bA,bH);},bD),bA)))))).OnChange(function(){A.setDirty();}).get_Render().AddChildren([l.style1("height","100%")])).Content$1("content2",t.New$2(A.codeMsgs()).Placeholder("Output:").Title("Messages").get_Render()).Content$1("content3",t.New$2(A.codeJS()).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()).Content$1("footer2",t.New$2(A.codeFS()).Placeholder("F# code:").Title("F# code assembled").get_Render()).Content$1("footer",l.div([q.New$1("Add code").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.addCode();})).get_Render(),q.New$1("<<").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.indentCodeOut();})).Disabled(A.noSelectionVal()).get_Render(),q.New$1(">>").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.indentCodeIn();})).Disabled(A.noSelectionVal()).get_Render(),A.loadFileElement().get_Render().AddChildren([l.style("grid-column: 4/6")]),l.span([]),q.New$1("Evaluate F# (FSI)").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.evaluateFS();})).Disabled(A.noSelectionVal()).get_Render(),q.New$1("Get F# code ==>").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.getFSCode();})).Disabled(A.noSelectionVal()).get_Render(),q.New$1("Delete code").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.deleteCode();})).Disabled(A.noSelectionVal()).get_Render(),l.span([]),l.span([]),q.New$1("Save as...").Class("btn            ").OnClick((N.Curried3(A.Do))(function(){A.downloadFile();})).get_Render().AddChildren([l.classIf("btn-primary",A.dirty())]),l.span([]),q.New$1("Compile WebSharper").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.justCompile();})).Disabled(A.noSelectionVal()).get_Render(),q.New$1("Run WebSharper in ...").Class("btn btn-xs").OnClick((N.Curried3(A.Do))(function(){A.compileRun();})).Disabled(A.noSelectionVal()).get_Render(),l.someElt((bE=[_6.Create("id","Position")],(bF=P.ofArray([D.Below,D.Right,D.NewBrowser]),(bG=A.position(),_0.Select(bE,A.positionTxt,bF,bG))))),l.style("\r\n                        overflow: hidden;\r\n                        display: grid;\r\n                        grid-template-columns: repeat(8, 12.1%);\r\n                        bxackground-color: #eee;\r\n                        padding : 5px;\r\n                        grid-gap: 5px;\r\n                    ")])).Content(l.script([l.src("/EPFileX/FileSaver/FileSaver.js"),l.type("text/javascript")])).Content(l.script([l.src("http://code.jquery.com/jquery-3.1.1.min.js"),l.type("text/javascript")])).Content(l.script([l.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),l.type("text/javascript")])).Content(l.link([l.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),l.type("text/css"),l.rel("stylesheet")])).Content(l.link([l.href("/EPFileX/css/main.css"),l.type("text/css"),l.rel("stylesheet")])).Content(l.css(A.styleEditor())).get_Render();};A.spl1=function(){E.$cctor();return E.spl1;};A.styleEditor=function(){E.$cctor();return E.styleEditor;};A.Do=function(bm,bn,bo){return bm();};A.loadFileElement=function(){E.$cctor();return E.loadFileElement;};A.downloadFile=function(){var bm,bn,bo,bp,bq;bm=(bn=$.ofSeq((A.codeSnippets())["var"].RVal()),(bo=((bi.EncodeArray(J.j))())(bn),a.JSON.stringify(bo)));bp=(bq=A.justFileName(A.fileName().c),bq===""?"snippets.fsjson":bq);a.saveAs(new a.Blob([bm],{type:"text/plain;charset=utf-8"}),bp);A.setClean();};A.loadFile=function(bm){if(!A.dirty().c?true:a.confirm("Changes have not been saved, do you really want to load?"))A.loadTextFile(bm.getRootNode().firstChild.querySelector("#"+A.fileInputElementId()),function(bn){var bo;try{bo=((bi.DecodeArray(H.j))())(a.JSON.parse(bn));A.codeSnippets().Set(bo);A.setClean();A.refreshView();}catch(bp){a.alert(a.String(bp));}});};A.fileInputElementId=function(){E.$cctor();return E.fileInputElementId;};A.loadTextFile=function(bm,bn){var bo,bp;bo=bm.files;bo.length>0?(bp=new a.FileReader(),bp.onload=function(bq){return bn(bq.target.result);},bp.readAsText(bo.item(0))):void 0;};A.emptyFile=function(){E.$cctor();return E.emptyFile;};A.fileName=function(){E.$cctor();return E.fileName;};A.justFileName=function(bm){return W.last(_.SplitChars(bm,[47,92],0));};A.deleteCode=function(){var bm;bm=function(bn){var bo,bp,bq,br;if(bo=(bp=function(bs,bt){return bs("Do you want to delete "+_7.toSafe(bt)+"?");},(function(bs){return function(bt){return bp(bs,bt);};}(a.id))(bn.get_Name())),a.confirm(bo)){bq=A.currentCodeSnippetId();br=B.get_New();Z.Set(bq,br);A.codeSnippets().Remove(bn);A.setDirty();A.refreshView();}};(function(bn){if(bn==null);else bm(bn.$0);}(C.FetchO(A.currentCodeSnippetId().c)));};A.addCode=function(){var bm,bn,bo,bp,bq;bm=(bn=function(){return C.New$3("");},function(br){return br==null?bn():br.$0;}((bo=function(br,bs){return C.New$1(br+1,"",bs.parent,P.T.Empty,P.T.Empty,"");},function(br){return br==null?null:{$:1,$0:bo.apply(null,br.$0)};}(C.PickIO(A.currentCodeSnippetId().c)))));bp=A.currentCodeSnippetId();bq=bm.id;Z.Set(bp,bq);A.setDirty();A.refreshView();};A.listEntries=function(bm){var bn,bo,bp;return _0.Concat((bn=function(bq){var br;br=l.renderDoc();return bq==null?null:{$:1,$0:br(bq.$0)};},function(bq){return W.choose(bn,bq);}((bo=W.indexed(bm),(bp=new bb.New(P.T.Empty),W.mapFold(function(bq,br){var bs,bt,bu,bv,bw,bx,by,bz,bA;bs=br[0];bt=br[1];return(bu=(bv=function(bB){return bq.Contains(bB);},function(bB){return bB==null?null:{$:1,$0:bv(bB.$0)};}(bt.parent)),bu==null?true:bu.$0)?(bw=(bx=(by=function(bB){return be.Equals(bB.parent,{$:1,$0:bt.id});},function(bB){return bB==null?null:{$:1,$0:by(bB.$0)};}((bz=bs+1,function(bB){return W.tryItem(bz,bB);}(A.codeSnippets())))),bx==null?false:bx.$0),(bA=bw?bt.expanded:false,[{$:1,$0:A.listEntry(bw,bA,bt)},bA?bq.Add(bt.id):bq])):[null,bq];},bp,bo)))[0])));};A.listEntry=function(bm,bn,bo){var bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB;return s.get_New().Content([l["class"]("code-editor-list-tile"),(bp=m.map((bq=bo.id,function(bC){return be.Equals(bq,bC);}),A.currentCodeSnippetId()),l.classIf("selected",bp)),(br=m.map((bs=bo.id,function(bC){return A.isDirectPredecessor(bs,bC);}),A.currentCodeSnippetO()),l.classIf("direct-predecessor",br)),(bt=m.map((bu=bo.id,function(bC){return A.isIndirectPredecessor(bu,bC);}),A.curPredecessors()),l.classIf("indirect-predecessor",bt)),l.draggable("true"),(bv=_2.Handler("dragover",function(){return function(bC){return bC.preventDefault();};}),new o({$:5,$0:bv})),(bw=_2.Handler("drag",function(){return function(){return A.set_draggedId(bo.id);};}),new o({$:5,$0:bw})),(bx=_2.Handler("drop",function(){return function(bC){bC.preventDefault();return A.reorderSnippet(bo.id,A.draggedId());};}),new o({$:5,$0:bx})),l.span([l["class"]("node"),l.classIf("parent",bm),l.classIf("expanded",bn),(by=_2.Handler("click",function(){return function(){return bm?A.toggleExpanded(bo):null;};}),new o({$:5,$0:by})),l.title(bm?bn?"collapse":"expand":""),l.htmlText(bm?bn?"v":">":"")]),l.div([l["class"]("code-editor-list-text"),l.style1("text-indent",(bz=function(bC,bD){return bC(a.String(bD)+"em");},(function(bC){return function(bD){return bz(bC,bD);};}(a.id))(bo.Level()))),l.style("white-space: pre"),l.htmlText(m.map2(function(bC){return function(bD){return A.snippetName(bC,bD);};},A.curSnippetNameOf(bo.id),A.curSnippetCodeOf(bo.id))),(bA=_2.Handler("click",function(){return function(){var bC,bD;bC=A.currentCodeSnippetId();bD=bo.id;return Z.Set(bC,bD);};}),new o({$:5,$0:bA}))]),l.span([l["class"]("predecessor"),l.title("toggle predecessor"),(bB=_2.Handler("click",function(){return function(){return m.iter(function(bC){A.togglePredecessorForCur(bo,bC);},A.currentCodeSnippetO());};}),new o({$:5,$0:bB})),l.htmlText("X")])]).get_Render();};A.toggleExpanded=function(bm){var bn;bn=bm.id;A.codeSnippets().UpdateBy(function(bo){var bp;return{$:1,$0:(bp=!bo.expanded,C.New(bo.name,bo.content,bo.parent,bo.predecessors,bo.companions,bo.id,bp))};},bn);A.refreshView();};A.togglePredecessorForCur=function(bm,bn){var bo;bo=function(bp){var bq,br,bs,bt,bu,bv;if(be.Equals(bp,bm)?true:A.isIndirectPredecessor(bp.id,bm.UniquePredecesors()));else{bq=((br=bp.predecessors,(bs=bm.id,P.contains(bs,br)))?(bt=(bu=bm.id,function(bw){return!be.Equals(bu,bw);}),function(bw){return P.filter(bt,bw);}):function(bw){return new P.T({$:1,$0:bm.id,$1:bw});})(bp.predecessors);bv=bp.id;A.codeSnippets().UpdateBy(function(bw){return{$:1,$0:C.New(bw.name,bw.content,bw.parent,bq,bw.companions,bw.id,bw.expanded)};},bv);A.setDirty();A.refreshView();}};(function(bp){if(bp==null);else bo(bp.$0);}(bn));};A.isIndirectPredecessor=function(bm,bn){return P.contains(bm,bn);};A.curPredecessors=function(){E.$cctor();return E.curPredecessors;};A.isDirectPredecessor=function(bm,bn){var bo,bp;bo=(bp=function(bq){var br;br=bq.predecessors;return P.contains(bm,br);},function(bq){return bq==null?null:{$:1,$0:bp(bq.$0)};}(bn));return bo==null?false:bo.$0;};A.draggedId=function(){E.$cctor();return E.draggedId;};A.set_draggedId=function(bm){E.$cctor();E.draggedId=bm;};A.indentCodeOut=function(){var bm;bm=function(bn){var bo,bp,bq,br;bo=(bp=function(bs){return bs.parent;},function(bs){return bs==null?null:bp(bs.$0);}((bq=bn.parent,bq==null?null:C.FetchO(bq.$0))));br=bn.id;A.codeSnippets().UpdateBy(function(bs){return{$:1,$0:C.New(bs.name,bs.content,bo,bs.predecessors,bs.companions,bs.id,bs.expanded)};},br);A.setDirty();A.refreshView();};(function(bn){if(bn==null);else bm(bn.$0);}(C.FetchO(A.currentCodeSnippetId().c)));};A.indentCodeIn=function(){var bm;bm=function(bn,bo){var bp,bq;bp=function(br,bs){var bt;while(true){if(bs<0)return null;else if(br((bt=(A.codeSnippets())["var"].RVal(),(function(bu){return function(bv){return W.nth(bu,bv);};}(bs))(bt))))return null;else bs=bs-1;}};bq=function(br){var bs;return be.Equals(br.parent,bo.parent)?(bs=bo.id,A.codeSnippets().UpdateBy(function(bt){var bu;return{$:1,$0:(bu={$:1,$0:br.id},C.New(bt.name,bt.content,bu,bt.predecessors,bt.companions,bt.id,bt.expanded))};},bs),true):false;};(function(br){return bp(bq,br);}(bn-1));A.setDirty();A.refreshView();};(function(bn){if(bn==null);else bm.apply(null,bn.$0);}(C.PickIO(A.currentCodeSnippetId().c)));};A.reorderSnippet=function(bm,bn){var bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz;function bA(bB){var bC;bC=function(bD,bE){return be.Equals(bE.id,bB);};return function(bD){return A.tryPickI(function(bE){return bC(bE[0],bE[1]);},bD);};}bo=(bp=function(bB){return be.Equals(bB.id,bn)?true:bB.IsDescendantOf(bn);},function(bB){return $.partition(bp,bB);}($.ofSeq((A.codeSnippets())["var"].RVal())));bq=bo[1];br=bo[0];bs=(bA(bn))(br);bt=(bA(bm))(bq);(bs!=null?bs.$==1:false)?(bt!=null?bt.$==1:false)?(bu=bs.$0[1],bv=bt.$0[0],bw=bt.$0[1],bx=(by=a.id,function(bB){return $.collect(by,bB);}([bj.array(bq,{$:1,$0:0},{$:1,$0:bv-1}),br,bj.array(bq,{$:1,$0:bv},null)])),A.codeSnippets().Set(bx),bz=bu.id,A.codeSnippets().UpdateBy(function(bB){var bC;return{$:1,$0:(bC=bw.parent,C.New(bB.name,bB.content,bC,bB.predecessors,bB.companions,bB.id,bB.expanded))};},bz)):void 0:void 0;A.setDirty();A.refreshView();};A.evaluateFS=function(){var bm,bn,bo;A.processSnippet("Evaluating F# code...",(bm=(bn=function(bp,bq){var br;switch((bp!=null?bp.$==1:false)?bp.$0===""?bq===""?0:(br=[bq,bp.$0],3):bq===""?(br=bp.$0,2):(br=[bq,bp.$0],3):bq===""?0:(br=bq,1)){case 0:return"Done!";break;case 1:return br;break;case 2:return br;break;case 3:return br[0]+"\n"+br[1];break;}},(bo=function(bp){A.sendMsg(bp);},function(bp){return bo(bn.apply(null,bp));})),function(bp){y.evaluate(bm,bp);}));};A.justCompile=function(){A.compileSnippet(function(bm){A.sendMsg("Compiled!");return A.sendMsg(bm);},function(bm){A.sendMsg(bm);});};A.compileRun=function(){A.compileSnippet(A.runJS,function(bm){A.sendMsg(bm);});};A.compileSnippet=function(bm,bn){var bo;A.processSnippet("Compiling to JavaScript...",(bo=function(bp,bq){var br;br=A.codeJS();Z.Set(br,bq);return bm(bp,bq);},function(bp){x.compile(bo,bn,bp);}));};A.processSnippet=function(bm,bn){var bo;bo=function(bp){var bq,br,bs,bt;bq=A.codeMsgs();Z.Set(bq,bm);br=A.codeJS();Z.Set(br,"");bs=bp.Code();bt=A.codeFS();Z.Set(bt,bs);bn(bs);};(function(bp){if(bp==null);else bo(bp.$0);}(C.FetchO(A.currentCodeSnippetId().c)));};A.runJS=function(bm,bn){var bo;A.sendMsg("Running JavaScript...");bo=A.position().c;(((bo.$==3?N.Curried3(A.evalWindowJS):N.Curried3(A.evalIFrameJS))(function(bp){A.sendMsg("Done!");A.sendMsg(bp);A.sendMsg(bm);}))(function(bp){A.sendMsg("Failed!");A.sendMsg(bp);A.sendMsg(bm);}))(bn);};A.evalWindowJS=function(bm,bn,bo){var bp,bq,br,bs;bp=(bq=a.window,bq.open.apply(bq,[a.window.location.origin+"/Main.html"]));be.Equals(bp,null)?bn("could not open new browser. Popup blocker may be active."):br=(bs=function(){try{bp.focus.apply(bp,[]);bm(bp["eval"].apply(bp,[bo]));}catch(bt){bn(a.String(bt));}},function(bt){return a.setTimeout(bs,bt);}(600));};A.evalIFrameJS=function(bm,bn,bo){var bp;bp=l.createIFrame(function(bq){var br;try{br=bq.contentWindow;bm(br["eval"].apply(br,[bo]));}catch(bs){bn(a.String(bs));}});(new z.New(null)).RunHtml(bp);};A.getFSCode=function(){var bm;bm=function(bn){var bo,bp;bo=A.codeFS();bp=bn.Code();Z.Set(bo,bp);};(function(bn){if(bn==null);else bm(bn.$0);}(C.FetchO(A.currentCodeSnippetId().c)));};A.setClean=function(){var bm;bm=A.dirty();Z.Set(bm,false);};A.setDirty=function(){var bm;bm=A.dirty();Z.Set(bm,true);};A.sendMsg=function(bm){var bn,bo,bp,bq;if(!bm);else{bn=A.codeMsgs();bo=(bp=A.codeMsgs().c,(bq=a.String(bm),bp===null?bq:bp===""?bq:bq===null?bp:bq===""?bp:bp+"\n"+bq));Z.Set(bn,bo);}};A.codeMsgs=function(){E.$cctor();return E.codeMsgs;};A.codeJS=function(){E.$cctor();return E.codeJS;};A.codeFS=function(){E.$cctor();return E.codeFS;};A.dirty=function(){E.$cctor();return E.dirty;};A.noSelectionVal=function(){E.$cctor();return E.noSelectionVal;};A.noSelection=function(bm){return be.Equals(C.FetchO(bm),null);};A.directionVertical=function(){E.$cctor();return E.directionVertical;};A.position=function(){E.$cctor();return E.position;};A.positionTxt=function(bm){return bm.$==1?"Right":bm.$==2?"In Tab":bm.$==3?"New Browser":"Below";};A.curSnippetCodeOf=function(bm){var bn,bo,bp,bq;bn=function(br){return A.codeSnippets().TryFindByKey(br);};return(bo=(bp=function(br){return br.content;},(bq=function(br,bs){return C.New(br.name,bs,br.parent,br.predecessors,br.companions,br.id,br.expanded);},function(br){return A.codeSnippets().LensInto(bp,bq,br);})),function(br){return A.missing(bn,bo,br);})(bm);};A.curSnippetNameOf=function(bm){var bn,bo,bp,bq;bn=function(br){return A.codeSnippets().TryFindByKey(br);};return(bo=(bp=function(br){return br.get_Name();},(bq=function(br,bs){return C.New(bs,br.content,br.parent,br.predecessors,br.companions,br.id,br.expanded);},function(br){return A.codeSnippets().LensInto(bp,bq,br);})),function(br){return A.missing(bn,bo,br);})(bm);};A.currentCodeSnippetO=function(){E.$cctor();return E.currentCodeSnippetO;};A.refreshView=function(){var bm;bm=A.refresh();Z.Set(bm,null);};A.refresh=function(){E.$cctor();return E.refresh;};A.currentCodeSnippetId=function(){E.$cctor();return E.currentCodeSnippetId;};A.missing=function(bm,bn,bo){var bp,bq,br;bp=bm(bo);return bp==null?(bq=function(){return"";},(br=A.missingVar(),Z.Lens(br,function(){return"";},function(bs,bt){return bq(bs,bt);}))):bn(bo);};A.missingVar=function(){E.$cctor();return E.missingVar;};A.tryPickI=function(bm,bn){var bo;return W.tryHead((bo=W.indexed(bn),W.filter(bm,bo)));};A.codeSnippets=function(){E.$cctor();return E.codeSnippets;};A.codeSnippetsStorage=function(){E.$cctor();return E.codeSnippetsStorage;};A.snippetName=function(bm,bn){var bo,bp,bq;return bm!==""?bm:(bo=W.tryHead((bp=function(br){return!((_.StartsWith(br,"#")?true:_.StartsWith(br,"[<"))?true:_.StartsWith(br,"//"));},function(br){return W.filter(bp,br);}((bq=_.SplitChars(bn,[10],1),W.map(_.Trim,bq))))),bo==null?"<empty>":bo.$0);};E.$cctor=N.Cctor(function(){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ;E.callAddClass=l.addClass("a","b");E.getClass=function(bK){return l.getAttr("class",bK);};E.getStyle=function(bK){return l.getAttr("style",bK);};E.renderDoc=(bm=(bn=_0.Empty(),function(bK){return bK==null?bn:bK.$0;}),function(bK){return bm(l.chooseNode(bK));});E.string2Styles=(bo=(bp=function(bK,bL){var bM;bM=_2.Style(bK,bL);return new o({$:5,$0:bM});},function(bK){return $.map(function(bL){return bp(bL[0],bL[1]);},bK);}),function(bK){return bo(l.style2pairs(bK));});E.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js"];E.codeSnippetsStorage=bk.LocalStorage("CodeSnippets",{Encode:J.j(),Decode:H.j()});E.codeSnippets=(bq=A.codeSnippetsStorage(),bl.CreateWithStorage(function(bK){return bK.id;},bq));E.missingVar=Z.Create$1("");E.currentCodeSnippetId=Z.Create$1(B.get_New());br="CodeEditor."+"currentCodeSnippetId";(function(bK){var bL;bL=a.window.localStorage.getItem(br);bL!==null?bK.set_RVal((H.j$1())(a.JSON.parse(bL))):void 0;return m.sink(function(bM){a.window.localStorage.setItem(br,a.JSON.stringify((J.j$1())(bM)));},bK);}(A.currentCodeSnippetId()));E.refresh=Z.Create$1();E.currentCodeSnippetO=m.map2(function(bK){return function(){return A.codeSnippets().TryFindByKey(bK);};},A.currentCodeSnippetId(),A.refresh());E.position=Z.Create$1(D.Below);bs="CodeEditor."+"position";(function(bK){var bL;bL=a.window.localStorage.getItem(bs);bL!==null?bK.set_RVal((H.j$2())(a.JSON.parse(bL))):void 0;return m.sink(function(bM){a.window.localStorage.setItem(bs,a.JSON.stringify((J.j$2())(bM)));},bK);}(A.position()));E.directionVertical=m.map(function(bK){return bK.$==1?true:false;},A.position());E.noSelectionVal=m.map(A.noSelection,A.currentCodeSnippetId());E.dirty=Z.Create$1(false);E.codeFS=Z.Create$1("");E.codeJS=Z.Create$1("");E.codeMsgs=Z.Create$1("");bt="CodeEditor."+"dirty";(function(bK){var bL;bL=a.window.localStorage.getItem(bt);bL!==null?bK.set_RVal(((bi.Id())())(a.JSON.parse(bL))):void 0;return m.sink(function(bM){var bN;a.window.localStorage.setItem(bt,(bN=((bi.Id())())(bM),a.JSON.stringify(bN)));},bK);}(A.dirty()));m.sink(function(bK){a.window.onbeforeunload=bK?function(bL){bL.returnValue="Changes you made may not be saved.";}:null;},A.dirty());E.draggedId=B.get_New();E.curPredecessors=m.map((bu=(bv=function(bK){return bK.UniquePredecesors();},function(bK){return bK==null?null:{$:1,$0:bv(bK.$0)};}),(bw=(bx=P.T.Empty,function(bK){return bK==null?bx:bK.$0;}),function(bK){return bw(bu(bK));})),A.currentCodeSnippetO());E.fileName=Z.Create$1("");E.emptyFile=m.map(function(bK){return bK==="";},A.fileName());E.fileInputElementId="CodeEditorFileSel";E.loadFileElement=r.New$2((by=a.id,(bz=A.fileName(),Z.Lens(bz,A.justFileName,function(bK,bL){return by(bK,bL);})))).Prefix(l.label([l["class"]("btn btn-primary"),l.htmlText("Load File..."),r.New$2(A.fileName()).Type("file").Style("display: none").Content([_2.Handler("change",function(bK){return function(){return A.loadFile(bK);};}),_2.Handler("click",function(bK){return function(){bK.value="";};})]).Id(A.fileInputElementId()).get_Render()]));E.styleEditor="\r\n      div textarea {\r\n      font-family: monospace;\r\n      }\r\n      .code-editor-list-tile {\r\n      white-space: nowrap; \r\n      border-style: solid none none;\r\n      border-color: white;\r\n      border-width: 1px;\r\n      background-color: #D8D8D8;\r\n      display: flex;\r\n      }\r\n      .code-editor-list-text{\r\n      padding: 1px 10px 1px 5px;\r\n      overflow:hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      flex: 1;\r\n      }\r\n      \r\n      .code-editor-list-tile.direct-predecessor {\r\n      font-weight: bold;\r\n      }\r\n      .code-editor-list-tile.indirect-predecessor {\r\n      color: blue;\r\n      }\r\n      .code-editor-list-tile.selected {\r\n      background-color: #77F;\r\n      color: white;\r\n      }\r\n      .code-editor-list-tile.hovering {\r\n      background: lightgray;\r\n      }\r\n      .code-editor-list-tile.hovering.selected {\r\n      background:  blue;\r\n      }\r\n      .code-editor-list-tile>.predecessor {\r\n      font-weight: bold;\r\n      border-style: inset;\r\n      border-width: 1px;\r\n      text-align: center;\r\n      color: transparent;\r\n      }\r\n      .code-editor-list-tile.direct-predecessor>.predecessor {\r\n      color: blue;\r\n      }\r\n      \r\n      .CodeMirror { height: 100%; }\r\n      \r\n      .node {\r\n          background-color:white; \r\n          width: 2ch; \r\n          color: #A03; \r\n          font-weight:bold; \r\n          text-align: center;\r\n          font-family: arial;\r\n      }\r\n      \r\n          ";E.spl1=v.New$1(20).Children([l.style("grid-row: 2 / 4")]);bA="CodeEditor."+"splitterV1";(function(bK){var bL;bL=a.window.localStorage.getItem(bA);bL!==null?bK.set_RVal(((bi.Id())())(a.JSON.parse(bL))):void 0;return m.sink(function(bM){var bN;a.window.localStorage.setItem(bA,(bN=((bi.Id())())(bM),a.JSON.stringify(bN)));},bK);}(A.spl1().get_Var()));E.style1h="height : 5px; grid-column: 1/2  ; grid-row   : 2/3; margin-top : -7px; border: 0px; padding: 0px; background-color: #eef; cursor: row-resize";E.style2h="height : 5px; grid-column: 1/2  ; grid-row   : 3/4; margin-top : -7px; border: 0px; padding: 0px; background-color: #eef; cursor: row-resize";E.style1v="width  : 5px; grid-row   : 1/2  ; grid-column: 2/3; margin-left: -7px; border: 0px; padding: 0px; background-color: #eef; cursor: col-resize";E.style2v="width  : 5px; grid-row   : 1/2  ; grid-column: 3/4; margin-left: -7px; border: 0px; padding: 0px; background-color: #eef; cursor: col-resize";E.horizontalSplit=N.Curried(function(bK,bL,bM,bN){return bK("\r\n      body {\r\n          display              : grid;\r\n          grid-template-rows   : "+bL.toFixed(6)+"% "+bM.toFixed(6)+"% "+bN.toFixed(6)+"%;\r\n          grid-template-columns: 100%;\r\n          grid-gap             :   9px;   \r\n          height               : 100vh;\r\n          overflow             : hidden;\r\n      }\r\n      \r\n#CodeEditor              { grid-row   : 2; overflow: hidden; }\r\n#TestNode                { grid-row   : 3; overflow: auto  ; }\r\n      body > div:first-of-type { grid-row   : 1; overflow: hidden; }\r\n      body > div               { grid-column: 1;                   }\r\n                                     ");},4);E.verticalSplit=N.Curried(function(bK,bL,bM,bN){return bK("\r\n      body {\r\n          display              : grid;\r\n          grid-template-columns: "+bL.toFixed(6)+"% "+bM.toFixed(6)+"% "+bN.toFixed(6)+"%;\r\n          grid-template-rows   : 100%;\r\n          grid-gap             :   9px;   \r\n          height               : 100vh;\r\n          overflow             : hidden;\r\n      }\r\n      \r\n#CodeEditor              { grid-column: 2; overflow: hidden; }\r\n#TestNode                { grid-column: 3; overflow: auto  ; }\r\n      body > div:first-of-type { grid-column: 1; overflow: hidden; }\r\n      body > div               { grid-row   : 1;                   }\r\n                                     ");},4);E.style1=(bB=function(bK){return bK?A.style1v():A.style1h();},function(bK){return m.map(bB,bK);}(A.directionVertical()));E.style2=(bC=function(bK){return bK?A.style2v():A.style2h();},function(bK){return m.map(bC,bK);}(A.directionVertical()));E.styleSplit=(bD=function(bK){return bK?A.verticalSplit():A.horizontalSplit();},function(bK){return m.map(bD,bK);}(A.directionVertical()));E.splitterMain1=v.New$1(0).Vertical$1(A.directionVertical()).Min(0).Max(35);E.splitterMain2=v.New$1(24).Vertical$1(A.directionVertical()).Min(0.5).Max(m.map(function(bK){return bK.$===3?0.1:50;},A.position())).get_Before();bE="CodeEditor."+"splitterMain1";(function(bK){var bL;bL=a.window.localStorage.getItem(bE);bL!==null?bK.set_RVal(((bi.Id())())(a.JSON.parse(bL))):void 0;return m.sink(function(bM){var bN;a.window.localStorage.setItem(bE,(bN=((bi.Id())())(bM),a.JSON.stringify(bN)));},bK);}(A.splitterMain1().get_Var()));bF="CodeEditor."+"splitterMain2";(function(bK){var bL;bL=a.window.localStorage.getItem(bF);bL!==null?bK.set_RVal(((bi.Id())())(a.JSON.parse(bL))):void 0;return m.sink(function(bM){var bN;a.window.localStorage.setItem(bF,(bN=((bi.Id())())(bM),a.JSON.stringify(bN)));},bK);}(A.splitterMain2().get_Var()));E.pageStyle=m.map3(N.Curried3(function(bK,bL,bM){return(((bK(a.id))(bL))(98-bL-bM))(bM);}),A.styleSplit(),A.splitterMain1().get_GetValue(),A.splitterMain2().get_GetValue());E.grid=w.get_New().Padding(0).Content$1("editor",A.CodeEditor()).Content(l.style("height: 100vh; margin: 0px; ")).Content(l.css("\r\n                 #CodeEditor              { grid-area: editor  ; overflow: hidden; }\r\n                 #TestNode                { grid-area: testNode; overflow: auto  ; }\r\n                 body > div:first-of-type { grid-area: header  ; overflow: hidden; }\r\n             "));bG=(bH=(bI=(bJ=function(bK){return(bK?A.grid().ColVariable$1(A.splitterMain1()).ColAuto(16).ColVariable$1(A.splitterMain2()).Content(l.style(" grid-template-areas: 'header   editor   testNode'; ")):A.grid().RowVariable$1(A.splitterMain1()).RowAuto(16).RowVariable$1(A.splitterMain2()).Content(l.style(" grid-template-areas: 'header' 'editor' 'testNode'; "))).GridTemplate();},function(bK){return m.map(bJ,bK);}(A.directionVertical())),l.bindHElem(l.body,bI)),(l.renderDoc())(bH));bG.ReplaceInDom(a.document.body);E.$cctor=a.ignore;});G.myDocument=function(){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI;bm=(bn=P.ofArray([["John",42],["Phil",37]]),bl.Create(function(bJ){return bJ[0];},bn));bo=Z.Create$1("delete");bp=Z.Create$1("<h1>Hello</h1>");bq=Z.Create$1("");br=Z.Create$1(0);bs=(bt=bq.v,(bu=br.v,_1.Map2(function(bJ,bK){return[bJ,bK];},bt,bu)));bv=_0.EmbedView((bw=bp.v,_1.Map(_0.Verbatim,bw)));return I.t$1((bx=(by=(bz=(bA=(bB=(bC=(bD=P.T.Empty,(bE=(bF=bm.key,(bG=function(bJ,bK){var bL,bM,bN,bO,bP,bQ;return I.tablerow3((bL=(bM=(bN=(bO=P.T.Empty,new P.T({$:1,$0:{$:1,$0:"txtname",$1:bJ},$1:bO})),new P.T({$:1,$0:{$:1,$0:"txtage",$1:a.String(bK)},$1:bN})),(bP=bo.v,new P.T({$:1,$0:{$:2,$0:"txtborrar",$1:bP},$1:bM}))),new P.T({$:1,$0:{$:4,$0:"onremove",$1:(bQ=function(){bm.RemoveByKey(bJ);},function(){return function(){return bQ();};})},$1:bL})));},function(bJ){var bK;bK=function(bL,bM){return bG(bL,bM);};return _0.ConvertBy(bF,function(bL){return bK(bL[0],bL[1]);},bJ);})(bm.v)),new P.T({$:1,$0:{$:0,$0:"tablebody",$1:bE},$1:bD}))),new P.T({$:1,$0:{$:6,$0:"varaddpersonname",$1:bq},$1:bC})),new P.T({$:1,$0:{$:11,$0:"varaddpersonage",$1:br},$1:bB})),(bH=(bI=function(bJ,bK,bL){return bm.Append(bL);},_2.HandlerView("click",bs,N.Curried3(bI))),new P.T({$:1,$0:{$:3,$0:"attraddpersonsubmit",$1:bH},$1:bA}))),new P.T({$:1,$0:{$:6,$0:"varremovetext",$1:bo},$1:bz})),new P.T({$:1,$0:{$:6,$0:"varfreehtml",$1:bp},$1:by})),new P.T({$:1,$0:{$:0,$0:"htmlfreehtml",$1:bv},$1:bx})));};G.test=function(){var bm,bn,bo;bm=Z.Create$1(true);bn=_0.EmbedView((bo=function(bp){return bp?_0.Concat([_0.Element("hr",[],[]),_0.TextNode("ok")]):_0.Empty();},function(bp){return _1.Map(bo,bp);}(bm.v)));return _0.Element("div",[],[bn]);};H.j$2=function(){return H._v$2?H._v$2:H._v$2=(bi.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};I.loginformcipher=function(bm){var bn,bo;bn={$:1,$0:"loginformcipher"};I.blurred();I.button();I.input2();I.loginpane2();bo=function(){return a.jQuery.parseHTML("<div style=\"position:relative; height:100ch\">\r\n    <ws-blurred>\r\n        <backimage>/EPFileX/image/BI_CONSULTANCY.jpg</backimage>\r\n        <content>\r\n            <div class=\"container\">\r\n                <div class=\"row\" style=\"height:25ch\"></div>\r\n                <ws-loginpane2 varemail=\"\" varpassword=\"\" htmlmessage=\"\" attrdisabled=\"\" clicksubmit=\"\" clickguest=\"\">\r\n                    <logo><img alt=\"Brand\" src=\"/EPFileX/image/LOGO_cipher2.png\" width=\"200px\"></logo>\r\n                </ws-loginpane2>\r\n            </div>\r\n        </content>\r\n    </ws-blurred>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.loginpane2=function(bm){var bn,bo;bn={$:1,$0:"loginpane2"};bo=function(){return a.jQuery.parseHTML("<div>\r\n    <form class=\"row\">\r\n        <div class=\"col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3\">\r\n            <div class=\"panel panel-default shadow\">\r\n                <div class=\"panel-body\" style=\"text-align:center\">\r\n                    <fieldset ws-attr=\"attrDisabled\">\r\n                        <div ws-replace=\"Logo\"></div>\r\n                        <ws-input2 varinput=\"varEmail\">\r\n                            <id>exampleInputEmail</id>\r\n                            <label>Email address</label>\r\n                            <type>email</type>\r\n                        </ws-input2>\r\n                        <ws-input2 varinput=\"varPassword\">\r\n                            <id>exampleInputPassword</id>\r\n                            <label>Password</label>\r\n                            <type>password</type>\r\n                        </ws-input2>\r\n                        <ws-button click=\"clickSubmit\">\r\n                            <type>Submit</type>\r\n                            <class>btn-primary</class>\r\n                            <text>Login</text>\r\n                        </ws-button>\r\n                        <div class=\"flex-row\"><div class=\"flexgrow\"><hr></div><div class=\"flexgrow-1-5 text-center\"><h5>or</h5></div><div class=\"flexgrow\"><hr></div></div>\r\n                        <ws-button click=\"clickGuest\">\r\n                            <type>Button</type>\r\n                            <class>btn-info</class>\r\n                            <text>Enter as Guest</text>\r\n                        </ws-button>\r\n                        <br>\r\n                        <div ws-replace=\"htmlMessage\"></div>\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.input2=function(bm){var bn,bo;bn={$:1,$0:"input2"};bo=function(){return a.jQuery.parseHTML("<div>\r\n    <input type=\"${Type}\" class=\"form-control\" id=\"${Id}\" ws-var=\"varInput\" placeholder=\"${Label}\">\r\n    <br>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.button=function(bm){var bn,bo;bn={$:1,$0:"button"};bo=function(){return a.jQuery.parseHTML("<div>\r\n    <button type=\"${Type}\" class=\"btn ${Class} btn-block\" ws-onclick=\"Click\">${Text}</button>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.blurred=function(bm){var bn,bo;bn={$:1,$0:"blurred"};bo=function(){return a.jQuery.parseHTML("<div>\r\n    <div class=\"blur\" style=\"position:absolute; top:0Px; left:0Px; bottom:0Px; right:0Px;\r\n            background-image: url('${BackImage}');\r\n            background-size:cover;\r\n            background-position:center;\r\n            z-index:-1\" other=\"${Image}\"></div>\r\n    <div ws-replace=\"Content\"></div>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.alert=function(bm){var bn,bo;bn={$:1,$0:"alert"};bo=function(){return a.jQuery.parseHTML("<div>\r\n    <div class=\"alert alert-danger\">${Text}</div>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.hourglass=function(bm){var bn,bo;bn={$:1,$0:"hourglass"};bo=function(){return a.jQuery.parseHTML("<div>\r\n    <img src=\"/EPFileX/image/loader.gif\">\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.t=function(bm){var bn,bo;bn=null;bo=function(){return a.jQuery.parseHTML("<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>${Title}</title>\r\n    <script ws-replace=\"TopScript\"></script>\r\n</head>\r\n<body>\r\n    <div ws-replace=\"Body\"></div>\r\n    <script ws-replace=\"scripts\"></script>\r\n</body>\r\n</html>\r\n");};return bm?_0.GetOrLoadTemplate("main",bn,bo,bm):_0.PrepareTemplate("main",bn,bo);};I.t$1=function(bm){var bn,bo;bn=null;I.blurred();I.button();I.input();I.input2();I.loginform();I.loginformcipher();I.loginpane();I.loginpane2();bo=function(){return a.jQuery.parseHTML("\r\n<h1>People</h1>v1.7\r\n<table>\r\n    <thead>\r\n        <tr>\r\n            <th>Name</th>\r\n            <th>Age</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody ws-hole=\"TableBody\">\r\n        <tr ws-template=\"TableRow1\">\r\n            <td>${txtName}</td>\r\n            <td>${txtAge}</td>\r\n            <td><button ws-onclick=\"onRemove\">Remove</button></td>\r\n        </tr>\r\n        <tr ws-template=\"TableRow2\">\r\n            <td>${txtName}</td>\r\n            <td>${txtAge}</td>\r\n            <td><button ws-onclick=\"onRemove\">Borrar</button></td>\r\n        </tr>\r\n        <tr ws-template=\"TableRow3\">\r\n            <td>${txtName}</td>\r\n            <td>${txtAge}</td>\r\n            <td><button ws-onclick=\"onRemove\">${txtBorrar}</button></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n<h1>Add a person</h1>\r\n<p><label>Name: <input ws-var=\"varAddPersonName\"></label></p>\r\n<p><label>Age: <input ws-var=\"varAddPersonAge\" type=\"number\"></label></p>\r\n<p><button ws-attr=\"attrAddPersonSubmit\">Add person</button></p>\r\n<p><label>Remove button text: <input ws-var=\"varRemoveText\"></label></p>\r\n\r\n<div class=\"form-group\" ws-template=\"Input\">\r\n    <label for=\"${Id}\">${Label}</label>\r\n    <input type=\"${Type}\" class=\"form-control\" id=\"${Id}\" ws-var=\"varInput\" placeholder=\"${Label}\">\r\n</div>\r\n\r\n<div ws-template=\"LoginPane\">\r\n    <form class=\"row\">\r\n        <div class=\"col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3\">\r\n            <div class=\"panel panel-default shadow\">\r\n                <div class=\"panel-body\">\r\n                    <div ws-replace=\"Logo\"></div>\r\n                    <ws-input varinput=\"varEmail\">\r\n                        <id>exampleInputEmail</id>\r\n                        <label>Email address</label>\r\n                        <type>email</type>\r\n                    </ws-input>\r\n                    <ws-input varinput=\"varPassword\">\r\n                        <id>exampleInputPassword</id>\r\n                        <label>Password</label>\r\n                        <type>password</type>\r\n                    </ws-input>\r\n                    <button type=\"submit\" class=\"btn\">Submit</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div ws-template=\"Input2\">\r\n    <input type=\"${Type}\" class=\"form-control\" id=\"${Id}\" ws-var=\"varInput\" placeholder=\"${Label}\">\r\n    <br>\r\n</div>\r\n\r\n<div ws-template=\"Button\">\r\n    <button type=\"${Type}\" class=\"btn ${Class} btn-block\" ws-onclick=\"Click\">${Text}</button>\r\n</div>\r\n\r\n<div ws-template=\"LoginPane2\">\r\n    <form class=\"row\">\r\n        <div class=\"col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3\">\r\n            <div class=\"panel panel-default shadow\">\r\n                <div class=\"panel-body\" style=\"text-align:center\">\r\n                    <fieldset ws-attr=\"attrDisabled\">\r\n                        <div ws-replace=\"Logo\"></div>\r\n                        <ws-input2 varinput=\"varEmail\">\r\n                            <id>exampleInputEmail</id>\r\n                            <label>Email address</label>\r\n                            <type>email</type>\r\n                        </ws-input2>\r\n                        <ws-input2 varinput=\"varPassword\">\r\n                            <id>exampleInputPassword</id>\r\n                            <label>Password</label>\r\n                            <type>password</type>\r\n                        </ws-input2>\r\n                        <ws-button click=\"clickSubmit\">\r\n                            <type>Submit</type>\r\n                            <class>btn-primary</class>\r\n                            <text>Login</text>\r\n                        </ws-button>\r\n                        <div class=\"flex-row\"><div class=\"flexgrow\"><hr></div><div class=\"flexgrow-1-5 text-center\"><h5>or</h5></div><div class=\"flexgrow\"><hr></div></div>\r\n                        <ws-button click=\"clickGuest\">\r\n                            <type>Button</type>\r\n                            <class>btn-info</class>\r\n                            <text>Enter as Guest</text>\r\n                        </ws-button>\r\n                        <br>\r\n                        <div ws-replace=\"htmlMessage\"></div>\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n\r\n<div ws-template=\"Blurred\">\r\n    <div class=\"blur\" style=\"position:absolute; top:0Px; left:0Px; bottom:0Px; right:0Px;\r\n            background-image: url('${BackImage}');\r\n            background-size:cover;\r\n            background-position:center;\r\n            z-index:-1\" other=\"${Image}\"></div>\r\n    <div ws-replace=\"Content\"></div>\r\n</div>\r\n\r\n<div style=\"position:relative; height:100ch\" ws-template=\"LoginForm\">\r\n    <ws-blurred>\r\n        <backimage>/EPFileX/image/BI_CONSULTANCY.jpg</backimage>\r\n        <content>\r\n            <div class=\"row\" style=\"height:25ch\"></div>\r\n            <ws-loginpane varemail=\"\" varpassword=\"\">\r\n                <logo><img alt=\"Brand\" src=\"/EPFileX/image/LOGO_cipher2.png\" width=\"200px\"></logo>\r\n            </ws-loginpane>\r\n        </content>\r\n    </ws-blurred>\r\n</div>\r\n\r\n<ws-loginform></ws-loginform>\r\n\r\n<div style=\"position:relative; height:100ch\" ws-template=\"LoginFormCipher\">\r\n    <ws-blurred>\r\n        <backimage>/EPFileX/image/BI_CONSULTANCY.jpg</backimage>\r\n        <content>\r\n            <div class=\"container\">\r\n                <div class=\"row\" style=\"height:25ch\"></div>\r\n                <ws-loginpane2 varemail=\"\" varpassword=\"\" htmlmessage=\"\" attrdisabled=\"\" clicksubmit=\"\" clickguest=\"\">\r\n                    <logo><img alt=\"Brand\" src=\"/EPFileX/image/LOGO_cipher2.png\" width=\"200px\"></logo>\r\n                </ws-loginpane2>\r\n            </div>\r\n        </content>\r\n    </ws-blurred>\r\n</div>\r\n\r\n<div ws-template=\"Alert\">\r\n    <div class=\"alert alert-danger\">${Text}</div>\r\n</div>\r\n\r\n<div ws-template=\"HourGlass\">\r\n    <img src=\"/EPFileX/image/loader.gif\">\r\n</div>\r\n\r\n<ws-loginformcipher></ws-loginformcipher>\r\n\r\n<p>Enter HTML:</p>\r\n<p><textarea ws-var=\"varFreeHtml\" style=\"height:auto\"></textarea><textarea ws-var=\"varFreeHtml\"></textarea></p>\r\n<p><div ws-hole=\"htmlFreeHtml\"></div></p>\r\n");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.loginpane=function(bm){var bn,bo;bn={$:1,$0:"loginpane"};bo=function(){return a.jQuery.parseHTML("<div>\r\n    <form class=\"row\">\r\n        <div class=\"col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3\">\r\n            <div class=\"panel panel-default shadow\">\r\n                <div class=\"panel-body\">\r\n                    <div ws-replace=\"Logo\"></div>\r\n                    <ws-input varinput=\"varEmail\">\r\n                        <id>exampleInputEmail</id>\r\n                        <label>Email address</label>\r\n                        <type>email</type>\r\n                    </ws-input>\r\n                    <ws-input varinput=\"varPassword\">\r\n                        <id>exampleInputPassword</id>\r\n                        <label>Password</label>\r\n                        <type>password</type>\r\n                    </ws-input>\r\n                    <button type=\"submit\" class=\"btn\">Submit</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.loginform=function(bm){var bn,bo;bn={$:1,$0:"loginform"};bo=function(){return a.jQuery.parseHTML("<div style=\"position:relative; height:100ch\">\r\n    <ws-blurred>\r\n        <backimage>/EPFileX/image/BI_CONSULTANCY.jpg</backimage>\r\n        <content>\r\n            <div class=\"row\" style=\"height:25ch\"></div>\r\n            <ws-loginpane varemail=\"\" varpassword=\"\">\r\n                <logo><img alt=\"Brand\" src=\"/EPFileX/image/LOGO_cipher2.png\" width=\"200px\"></logo>\r\n            </ws-loginpane>\r\n        </content>\r\n    </ws-blurred>\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.input=function(bm){var bn,bo;bn={$:1,$0:"input"};bo=function(){return a.jQuery.parseHTML("<div class=\"form-group\">\r\n    <label for=\"${Id}\">${Label}</label>\r\n    <input type=\"${Type}\" class=\"form-control\" id=\"${Id}\" ws-var=\"varInput\" placeholder=\"${Label}\">\r\n</div>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};I.tablerow3=function(bm){var bn,bo;bn={$:1,$0:"tablerow3"};bo=function(){return a.jQuery.parseHTML("<tr>\r\n            <td>${txtName}</td>\r\n            <td>${txtAge}</td>\r\n            <td><button ws-onclick=\"onRemove\">${txtBorrar}</button></td>\r\n        </tr>");};return bm?_0.GetOrLoadTemplate("mypage",bn,bo,bm):_0.PrepareTemplate("mypage",bn,bo);};J.j$1=function(){return J._v$1?J._v$1:J._v$1=(bi.EncodeUnion(void 0,"$",[[0,[["$0","Item",bi.Id(),0]]]]))();};J.j=function(){return J._v?J._v:J._v=(bi.EncodeRecord(C,[["name",bi.Id(),0],["content",bi.Id(),0],["parent",J.j$1,1],["predecessors",bi.EncodeList(J.j$1),0],["companions",bi.EncodeList(J.j$1),0],["id",J.j$1,0],["expanded",bi.Id(),0]]))();};H.j$1=function(){return H._v$1?H._v$1:H._v$1=(bi.DecodeUnion(void 0,"$",[[0,[["$0","Item",bi.Id(),0]]]]))();};H.j=function(){return H._v?H._v:H._v=(bi.DecodeRecord(C,[["name",bi.Id(),0],["content",bi.Id(),0],["parent",H.j$1,1],["predecessors",bi.DecodeList(H.j$1),0],["companions",bi.DecodeList(H.j$1),0],["id",H.j$1,0],["expanded",bi.Id(),0]]))();};J.j$2=function(){return J._v$2?J._v$2:J._v$2=(bi.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};}());
